<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 14.1.2 (20260124.0452)
 -->
<!-- Title: crescere Pages: 1 -->
<svg width="5114pt" height="973pt"
 viewBox="0.00 0.00 5114.00 973.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 969.01)">
<title>crescere</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-969.01 5110,-969.01 5110,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="2553" y="-949.61" font-family="Helvetica Neue" font-size="12.00">Crescere – State Transitions</text>
<text xml:space="preserve" text-anchor="middle" x="2553" y="-934.61" font-family="Helvetica Neue" font-size="12.00">(Auth × Children × Sharing × Views)</text>
<g id="clust1" class="cluster">
<title>cluster_init</title>
<path fill="#f0f7ff" stroke="#4a90d9" d="M20,-10.88C20,-10.88 251,-10.88 251,-10.88 257,-10.88 263,-16.88 263,-22.88 263,-22.88 263,-891.44 263,-891.44 263,-897.44 257,-903.44 251,-903.44 251,-903.44 20,-903.44 20,-903.44 14,-903.44 8,-897.44 8,-891.44 8,-891.44 8,-22.87 8,-22.87 8,-16.87 14,-10.88 20,-10.88"/>
<text xml:space="preserve" text-anchor="middle" x="135.5" y="-889.94" font-family="Helvetica Neue" font-size="10.00">App Initialization</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_auth</title>
<path fill="#fef9f0" stroke="#e67e22" d="M1135,-401.88C1135,-401.88 1622,-401.88 1622,-401.88 1628,-401.88 1634,-407.88 1634,-413.88 1634,-413.88 1634,-891.44 1634,-891.44 1634,-897.44 1628,-903.44 1622,-903.44 1622,-903.44 1135,-903.44 1135,-903.44 1129,-903.44 1123,-897.44 1123,-891.44 1123,-891.44 1123,-413.88 1123,-413.88 1123,-407.88 1129,-401.88 1135,-401.88"/>
<text xml:space="preserve" text-anchor="middle" x="1378.5" y="-889.94" font-family="Helvetica Neue" font-size="10.00">Authentication States</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_child</title>
<path fill="#f0fff0" stroke="#28a745" d="M283,-8C283,-8 1096,-8 1096,-8 1102,-8 1108,-14 1108,-20 1108,-20 1108,-760.62 1108,-760.62 1108,-766.62 1102,-772.62 1096,-772.62 1096,-772.62 283,-772.62 283,-772.62 277,-772.62 271,-766.62 271,-760.62 271,-760.62 271,-20 271,-20 271,-14 277,-8 283,-8"/>
<text xml:space="preserve" text-anchor="middle" x="689.5" y="-759.12" font-family="Helvetica Neue" font-size="10.00">Child Lifecycle</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_sharing_owner</title>
<path fill="#f8f0ff" stroke="#6f42c1" d="M1128,-8C1128,-8 1365,-8 1365,-8 1371,-8 1377,-14 1377,-20 1377,-20 1377,-204.75 1377,-204.75 1377,-210.75 1371,-216.75 1365,-216.75 1365,-216.75 1128,-216.75 1128,-216.75 1122,-216.75 1116,-210.75 1116,-204.75 1116,-204.75 1116,-20 1116,-20 1116,-14 1122,-8 1128,-8"/>
<text xml:space="preserve" text-anchor="middle" x="1246.5" y="-203.25" font-family="Helvetica Neue" font-size="10.00">Sharing – Owner Side</text>
<text xml:space="preserve" text-anchor="middle" x="1246.5" y="-191.25" font-family="Helvetica Neue" font-size="10.00">(requires: authenticated, non&#45;anonymous, synced child)</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_sharing_recv</title>
<path fill="#f8f0ff" stroke="#6f42c1" d="M1654,-700.62C1654,-700.62 1924,-700.62 1924,-700.62 1930,-700.62 1936,-706.62 1936,-712.62 1936,-712.62 1936,-903.44 1936,-903.44 1936,-909.44 1930,-915.44 1924,-915.44 1924,-915.44 1654,-915.44 1654,-915.44 1648,-915.44 1642,-909.44 1642,-903.44 1642,-903.44 1642,-712.62 1642,-712.62 1642,-706.62 1648,-700.62 1654,-700.62"/>
<text xml:space="preserve" text-anchor="middle" x="1789" y="-901.94" font-family="Helvetica Neue" font-size="10.00">Sharing – Recipient Side</text>
<text xml:space="preserve" text-anchor="middle" x="1789" y="-889.94" font-family="Helvetica Neue" font-size="10.00">(requires: authenticated, including anonymous)</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_views</title>
<path fill="#fff8f0" stroke="#fd7e14" d="M1956,-544C1956,-544 2351,-544 2351,-544 2357,-544 2363,-550 2363,-556 2363,-556 2363,-894.32 2363,-894.32 2363,-900.32 2357,-906.32 2351,-906.32 2351,-906.32 1956,-906.32 1956,-906.32 1950,-906.32 1944,-900.32 1944,-894.32 1944,-894.32 1944,-556 1944,-556 1944,-550 1950,-544 1956,-544"/>
<text xml:space="preserve" text-anchor="middle" x="2153.5" y="-892.82" font-family="Helvetica Neue" font-size="10.00">App Views / UI States</text>
</g>
<g id="clust7" class="cluster">
<title>cluster_modals</title>
<path fill="#ffffff" stroke="#999999" d="M2386,-535.5C2386,-535.5 3139,-535.5 3139,-535.5 3145,-535.5 3151,-541.5 3151,-547.5 3151,-547.5 3151,-623 3151,-623 3151,-629 3145,-635 3139,-635 3139,-635 2386,-635 2386,-635 2380,-635 2374,-629 2374,-623 2374,-623 2374,-547.5 2374,-547.5 2374,-541.5 2380,-535.5 2386,-535.5"/>
<text xml:space="preserve" text-anchor="middle" x="2762.5" y="-622.45" font-family="Helvetica Neue" font-size="9.00">Modal Overlays</text>
<text xml:space="preserve" text-anchor="middle" x="2762.5" y="-611.2" font-family="Helvetica Neue" font-size="9.00">(on top of Dashboard)</text>
</g>
<g id="clust8" class="cluster">
<title>cluster_signout</title>
<path fill="#fff0f0" stroke="#dc3545" d="M3645,-271.25C3645,-271.25 3757,-271.25 3757,-271.25 3763,-271.25 3769,-277.25 3769,-283.25 3769,-283.25 3769,-895.01 3769,-895.01 3769,-901.01 3763,-907.01 3757,-907.01 3757,-907.01 3645,-907.01 3645,-907.01 3639,-907.01 3633,-901.01 3633,-895.01 3633,-895.01 3633,-283.25 3633,-283.25 3633,-277.25 3639,-271.25 3645,-271.25"/>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-893.51" font-family="Helvetica Neue" font-size="10.00">Sign&#45;Out Sequence</text>
</g>
<g id="clust9" class="cluster">
<title>cluster_claim</title>
<path fill="#f0fff8" stroke="#17a2b8" d="M3801,-124.25C3801,-124.25 4072,-124.25 4072,-124.25 4078,-124.25 4084,-130.25 4084,-136.25 4084,-136.25 4084,-907.01 4084,-907.01 4084,-913.01 4078,-919.01 4072,-919.01 4072,-919.01 3801,-919.01 3801,-919.01 3795,-919.01 3789,-913.01 3789,-907.01 3789,-907.01 3789,-136.25 3789,-136.25 3789,-130.25 3795,-124.25 3801,-124.25"/>
<text xml:space="preserve" text-anchor="middle" x="3936.5" y="-905.51" font-family="Helvetica Neue" font-size="10.00">Claim Account Flow</text>
<text xml:space="preserve" text-anchor="middle" x="3936.5" y="-893.51" font-family="Helvetica Neue" font-size="10.00">(upgrade anonymous → authenticated)</text>
</g>
<g id="clust10" class="cluster">
<title>cluster_legend</title>
<path fill="#f8f9fa" stroke="#999999" d="M4104,-831.44C4104,-831.44 5086,-831.44 5086,-831.44 5092,-831.44 5098,-837.44 5098,-843.44 5098,-843.44 5098,-890.69 5098,-890.69 5098,-896.69 5092,-902.69 5086,-902.69 5086,-902.69 4104,-902.69 4104,-902.69 4098,-902.69 4092,-896.69 4092,-890.69 4092,-890.69 4092,-843.44 4092,-843.44 4092,-837.44 4098,-831.44 4104,-831.44"/>
<text xml:space="preserve" text-anchor="middle" x="4595" y="-890.14" font-family="Helvetica Neue" font-size="9.00">Legend</text>
</g>
<!-- init_mount -->
<g id="node1" class="node">
<title>init_mount</title>
<ellipse fill="#dbe9f7" stroke="black" cx="94" cy="-857.44" rx="33.87" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="94" y="-854.52" font-family="Helvetica Neue" font-size="9.00">onMount()</text>
</g>
<!-- init_auth -->
<g id="node2" class="node">
<title>init_auth</title>
<path fill="lightgrey" stroke="black" d="M120.38,-744.62C120.38,-744.62 67.62,-744.62 67.62,-744.62 61.62,-744.62 55.62,-738.62 55.62,-732.62 55.62,-732.62 55.62,-720.62 55.62,-720.62 55.62,-714.62 61.62,-708.62 67.62,-708.62 67.62,-708.62 120.38,-708.62 120.38,-708.62 126.38,-708.62 132.38,-714.62 132.38,-720.62 132.38,-720.62 132.38,-732.62 132.38,-732.62 132.38,-738.62 126.38,-744.62 120.38,-744.62"/>
<text xml:space="preserve" text-anchor="middle" x="94" y="-729.33" font-family="Helvetica Neue" font-size="9.00">initAuth()</text>
<text xml:space="preserve" text-anchor="middle" x="94" y="-718.08" font-family="Helvetica Neue" font-size="9.00">restore session</text>
</g>
<!-- init_mount&#45;&gt;init_auth -->
<g id="edge1" class="edge">
<title>init_mount&#45;&gt;init_auth</title>
<path fill="none" stroke="#555555" d="M94,-839.07C94,-817.82 94,-781.56 94,-756.19"/>
<polygon fill="#555555" stroke="#555555" points="97.5,-756.24 94,-746.24 90.5,-756.24 97.5,-756.24"/>
</g>
<!-- init_has_sess -->
<g id="node3" class="node">
<title>init_has_sess</title>
<path fill="white" stroke="black" d="M82.53,-584.48C82.53,-584.48 46.9,-573.52 46.9,-573.52 41.16,-571.76 41.16,-568.24 46.9,-566.48 46.9,-566.48 82.53,-555.52 82.53,-555.52 88.26,-553.76 99.74,-553.76 105.47,-555.52 105.47,-555.52 141.1,-566.48 141.1,-566.48 146.84,-568.24 146.84,-571.76 141.1,-573.52 141.1,-573.52 105.47,-584.48 105.47,-584.48 99.74,-586.24 88.26,-586.24 82.53,-584.48"/>
<text xml:space="preserve" text-anchor="middle" x="94" y="-567.08" font-family="Helvetica Neue" font-size="9.00">Has session?</text>
</g>
<!-- init_auth&#45;&gt;init_has_sess -->
<g id="edge2" class="edge">
<title>init_auth&#45;&gt;init_has_sess</title>
<path fill="none" stroke="#555555" d="M94,-708.19C94,-681.72 94,-631.11 94,-599.31"/>
<polygon fill="#555555" stroke="#555555" points="97.5,-599.65 94,-589.65 90.5,-599.65 97.5,-599.65"/>
</g>
<!-- init_auto_anon -->
<g id="node4" class="node">
<title>init_auto_anon</title>
<path fill="lightgrey" stroke="black" d="M196.38,-445.88C196.38,-445.88 119.62,-445.88 119.62,-445.88 113.62,-445.88 107.62,-439.88 107.62,-433.88 107.62,-433.88 107.62,-421.88 107.62,-421.88 107.62,-415.88 113.62,-409.88 119.62,-409.88 119.62,-409.88 196.38,-409.88 196.38,-409.88 202.38,-409.88 208.38,-415.88 208.38,-421.88 208.38,-421.88 208.38,-433.88 208.38,-433.88 208.38,-439.88 202.38,-445.88 196.38,-445.88"/>
<text xml:space="preserve" text-anchor="middle" x="158" y="-430.57" font-family="Helvetica Neue" font-size="9.00">signInAnonymously()</text>
<text xml:space="preserve" text-anchor="middle" x="158" y="-419.32" font-family="Helvetica Neue" font-size="9.00">(auto&#45;create guest)</text>
</g>
<!-- init_has_sess&#45;&gt;init_auto_anon -->
<g id="edge4" class="edge">
<title>init_has_sess&#45;&gt;init_auto_anon</title>
<path fill="none" stroke="#555555" d="M100.97,-553.74C111.6,-530.47 132.02,-485.75 145.33,-456.63"/>
<polygon fill="#555555" stroke="#555555" points="148.44,-458.23 149.41,-447.68 142.07,-455.32 148.44,-458.23"/>
<text xml:space="preserve" text-anchor="middle" x="139.22" y="-487.98" font-family="Helvetica Neue" font-size="7.00">no</text>
</g>
<!-- init_sync -->
<g id="node6" class="node">
<title>init_sync</title>
<path fill="#d4edda" stroke="black" d="M100.12,-176.75C100.12,-176.75 27.88,-176.75 27.88,-176.75 21.88,-176.75 15.88,-170.75 15.88,-164.75 15.88,-164.75 15.88,-152.75 15.88,-152.75 15.88,-146.75 21.88,-140.75 27.88,-140.75 27.88,-140.75 100.12,-140.75 100.12,-140.75 106.12,-140.75 112.12,-146.75 112.12,-152.75 112.12,-152.75 112.12,-164.75 112.12,-164.75 112.12,-170.75 106.12,-176.75 100.12,-176.75"/>
<text xml:space="preserve" text-anchor="middle" x="64" y="-161.45" font-family="Helvetica Neue" font-size="9.00">enableSync()</text>
<text xml:space="preserve" text-anchor="middle" x="64" y="-150.2" font-family="Helvetica Neue" font-size="9.00">load from Supabase</text>
</g>
<!-- init_has_sess&#45;&gt;init_sync -->
<g id="edge3" class="edge">
<title>init_has_sess&#45;&gt;init_sync</title>
<path fill="none" stroke="#555555" d="M92.75,-551.94C88.12,-488.75 71.91,-267.68 66.1,-188.36"/>
<polygon fill="#555555" stroke="#555555" points="69.59,-188.11 65.37,-178.4 62.61,-188.63 69.59,-188.11"/>
<text xml:space="preserve" text-anchor="middle" x="105.19" y="-358.6" font-family="Helvetica Neue" font-size="7.00">yes (anon or full)</text>
</g>
<!-- init_anon_ok -->
<g id="node5" class="node">
<title>init_anon_ok</title>
<path fill="white" stroke="black" d="M146.82,-310.88C146.82,-310.88 123.15,-301.62 123.15,-301.62 117.56,-299.44 117.56,-295.06 123.15,-292.88 123.15,-292.88 146.82,-283.62 146.82,-283.62 152.41,-281.44 163.59,-281.44 169.18,-283.62 169.18,-283.62 192.85,-292.88 192.85,-292.88 198.44,-295.06 198.44,-299.44 192.85,-301.62 192.85,-301.62 169.18,-310.88 169.18,-310.88 163.59,-313.06 152.41,-313.06 146.82,-310.88"/>
<text xml:space="preserve" text-anchor="middle" x="158" y="-294.32" font-family="Helvetica Neue" font-size="9.00">Success?</text>
</g>
<!-- init_auto_anon&#45;&gt;init_anon_ok -->
<g id="edge5" class="edge">
<title>init_auto_anon&#45;&gt;init_anon_ok</title>
<path fill="none" stroke="#555555" d="M158,-409.53C158,-388.43 158,-352.51 158,-327.2"/>
<polygon fill="#555555" stroke="#555555" points="161.5,-327.25 158,-317.25 154.5,-327.25 161.5,-327.25"/>
</g>
<!-- init_anon_ok&#45;&gt;init_sync -->
<g id="edge6" class="edge">
<title>init_anon_ok&#45;&gt;init_sync</title>
<path fill="none" stroke="#555555" d="M148.64,-282.66C133.21,-260.25 102.13,-215.13 82.24,-186.23"/>
<polygon fill="#555555" stroke="#555555" points="85.37,-184.61 76.81,-178.36 79.6,-188.58 85.37,-184.61"/>
<text xml:space="preserve" text-anchor="middle" x="130.54" y="-234.97" font-family="Helvetica Neue" font-size="7.00">yes</text>
</g>
<!-- init_welcome -->
<g id="node8" class="node">
<title>init_welcome</title>
<path fill="#f8d7da" stroke="black" d="M243,-176.75C243,-176.75 167,-176.75 167,-176.75 161,-176.75 155,-170.75 155,-164.75 155,-164.75 155,-152.75 155,-152.75 155,-146.75 161,-140.75 167,-140.75 167,-140.75 243,-140.75 243,-140.75 249,-140.75 255,-146.75 255,-152.75 255,-152.75 255,-164.75 255,-164.75 255,-170.75 249,-176.75 243,-176.75"/>
<text xml:space="preserve" text-anchor="middle" x="205" y="-161.45" font-family="Helvetica Neue" font-size="9.00">showWelcome = true</text>
<text xml:space="preserve" text-anchor="middle" x="205" y="-150.2" font-family="Helvetica Neue" font-size="9.00">→ Welcome Screen</text>
</g>
<!-- init_anon_ok&#45;&gt;init_welcome -->
<g id="edge7" class="edge">
<title>init_anon_ok&#45;&gt;init_welcome</title>
<path fill="none" stroke="#555555" d="M163.3,-280.86C171.06,-258.31 185.66,-215.92 195.36,-187.75"/>
<polygon fill="#555555" stroke="#555555" points="198.62,-189.04 198.56,-178.44 192,-186.76 198.62,-189.04"/>
<text xml:space="preserve" text-anchor="middle" x="185.25" y="-234.97" font-family="Helvetica Neue" font-size="7.00">no</text>
</g>
<!-- init_share -->
<g id="node7" class="node">
<title>init_share</title>
<path fill="lightgrey" stroke="black" d="M126.25,-54.88C126.25,-54.88 27.75,-54.88 27.75,-54.88 21.75,-54.88 15.75,-48.88 15.75,-42.88 15.75,-42.88 15.75,-30.87 15.75,-30.87 15.75,-24.88 21.75,-18.88 27.75,-18.88 27.75,-18.88 126.25,-18.88 126.25,-18.88 132.25,-18.88 138.25,-24.88 138.25,-30.88 138.25,-30.88 138.25,-42.88 138.25,-42.88 138.25,-48.88 132.25,-54.88 126.25,-54.88"/>
<text xml:space="preserve" text-anchor="middle" x="77" y="-39.58" font-family="Helvetica Neue" font-size="9.00">checkForLiveShare()</text>
<text xml:space="preserve" text-anchor="middle" x="77" y="-28.32" font-family="Helvetica Neue" font-size="9.00">parse #live&#45;share=&lt;token&gt;</text>
</g>
<!-- init_sync&#45;&gt;init_share -->
<g id="edge8" class="edge">
<title>init_sync&#45;&gt;init_share</title>
<path fill="none" stroke="#555555" d="M65.89,-140.32C67.98,-121.05 71.38,-89.72 73.87,-66.77"/>
<polygon fill="#555555" stroke="#555555" points="77.35,-67.15 74.94,-56.83 70.39,-66.4 77.35,-67.15"/>
</g>
<!-- auth_none -->
<g id="node9" class="node">
<title>auth_none</title>
<path fill="#f8d7da" stroke="black" d="M1454.75,-875.44C1454.75,-875.44 1389.25,-875.44 1389.25,-875.44 1383.25,-875.44 1377.25,-869.44 1377.25,-863.44 1377.25,-863.44 1377.25,-851.44 1377.25,-851.44 1377.25,-845.44 1383.25,-839.44 1389.25,-839.44 1389.25,-839.44 1454.75,-839.44 1454.75,-839.44 1460.75,-839.44 1466.75,-845.44 1466.75,-851.44 1466.75,-851.44 1466.75,-863.44 1466.75,-863.44 1466.75,-869.44 1460.75,-875.44 1454.75,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="1422" y="-860.14" font-family="Helvetica Neue" font-size="9.00">Not Authenticated</text>
<text xml:space="preserve" text-anchor="middle" x="1422" y="-848.89" font-family="Helvetica Neue" font-size="9.00">(no session)</text>
</g>
<!-- auth_anon -->
<g id="node10" class="node">
<title>auth_anon</title>
<path fill="#d4edda" stroke="black" d="M1486,-747.5C1486,-747.5 1410,-747.5 1410,-747.5 1404,-747.5 1398,-741.5 1398,-735.5 1398,-735.5 1398,-717.75 1398,-717.75 1398,-711.75 1404,-705.75 1410,-705.75 1410,-705.75 1486,-705.75 1486,-705.75 1492,-705.75 1498,-711.75 1498,-717.75 1498,-717.75 1498,-735.5 1498,-735.5 1498,-741.5 1492,-747.5 1486,-747.5"/>
<text xml:space="preserve" text-anchor="middle" x="1448" y="-734.95" font-family="Helvetica Neue" font-size="9.00">Anonymous</text>
<text xml:space="preserve" text-anchor="middle" x="1448" y="-723.7" font-family="Helvetica Neue" font-size="9.00">(guest account)</text>
<text xml:space="preserve" text-anchor="middle" x="1448" y="-712.45" font-family="Helvetica Neue" font-size="9.00">is_anonymous = true</text>
</g>
<!-- auth_none&#45;&gt;auth_anon -->
<g id="edge9" class="edge">
<title>auth_none&#45;&gt;auth_anon</title>
<path fill="none" stroke="#555555" d="M1392.93,-839.22C1372.13,-824.56 1349.81,-802.46 1362,-780.62 1368.22,-769.49 1377.84,-760.41 1388.43,-753.11"/>
<polygon fill="#555555" stroke="#555555" points="1390.04,-756.23 1396.64,-747.95 1386.31,-750.3 1390.04,-756.23"/>
<text xml:space="preserve" text-anchor="middle" x="1393.5" y="-791.23" font-family="Helvetica Neue" font-size="7.00">signInAnonymously()</text>
</g>
<!-- auth_email -->
<g id="node11" class="node">
<title>auth_email</title>
<path fill="#cce5ff" stroke="black" d="M1216.88,-590.88C1216.88,-590.88 1143.12,-590.88 1143.12,-590.88 1137.12,-590.88 1131.12,-584.88 1131.12,-578.88 1131.12,-578.88 1131.12,-561.12 1131.12,-561.12 1131.12,-555.12 1137.12,-549.12 1143.12,-549.12 1143.12,-549.12 1216.88,-549.12 1216.88,-549.12 1222.88,-549.12 1228.88,-555.12 1228.88,-561.12 1228.88,-561.12 1228.88,-578.88 1228.88,-578.88 1228.88,-584.88 1222.88,-590.88 1216.88,-590.88"/>
<text xml:space="preserve" text-anchor="middle" x="1180" y="-578.33" font-family="Helvetica Neue" font-size="9.00">Authenticated</text>
<text xml:space="preserve" text-anchor="middle" x="1180" y="-567.08" font-family="Helvetica Neue" font-size="9.00">(email, no password)</text>
<text xml:space="preserve" text-anchor="middle" x="1180" y="-555.83" font-family="Helvetica Neue" font-size="9.00">magic&#45;link user</text>
</g>
<!-- auth_none&#45;&gt;auth_email -->
<g id="edge10" class="edge">
<title>auth_none&#45;&gt;auth_email</title>
<path fill="none" stroke="#555555" d="M1394.81,-839C1380.86,-829.79 1363.75,-818.1 1349,-806.88 1330.31,-792.65 1324.19,-790.33 1308.75,-772.62 1260.54,-717.33 1217.57,-642.36 1195.55,-601.18"/>
<polygon fill="#555555" stroke="#555555" points="1198.77,-599.78 1191,-592.57 1192.58,-603.05 1198.77,-599.78"/>
<text xml:space="preserve" text-anchor="middle" x="1342.88" y="-728.23" font-family="Helvetica Neue" font-size="7.00">signInWithEmail()</text>
<text xml:space="preserve" text-anchor="middle" x="1342.88" y="-719.98" font-family="Helvetica Neue" font-size="7.00">(magic link confirmed)</text>
</g>
<!-- auth_full -->
<g id="node12" class="node">
<title>auth_full</title>
<path fill="#b8daff" stroke="black" d="M1421.12,-445.88C1421.12,-445.88 1354.88,-445.88 1354.88,-445.88 1348.88,-445.88 1342.88,-439.88 1342.88,-433.88 1342.88,-433.88 1342.88,-421.88 1342.88,-421.88 1342.88,-415.88 1348.88,-409.88 1354.88,-409.88 1354.88,-409.88 1421.12,-409.88 1421.12,-409.88 1427.12,-409.88 1433.12,-415.88 1433.12,-421.88 1433.12,-421.88 1433.12,-433.88 1433.12,-433.88 1433.12,-439.88 1427.12,-445.88 1421.12,-445.88"/>
<text xml:space="preserve" text-anchor="middle" x="1388" y="-430.57" font-family="Helvetica Neue" font-size="9.00">Authenticated</text>
<text xml:space="preserve" text-anchor="middle" x="1388" y="-419.32" font-family="Helvetica Neue" font-size="9.00">(email + password)</text>
</g>
<!-- auth_none&#45;&gt;auth_full -->
<g id="edge11" class="edge">
<title>auth_none&#45;&gt;auth_full</title>
<path fill="none" stroke="#555555" d="M1454.12,-839.16C1477.19,-824.77 1506.51,-801.91 1520,-772.62 1533.39,-743.56 1537.35,-727.52 1520,-700.62 1506.05,-679 1481.2,-698.38 1467.25,-676.75 1459.12,-664.14 1457.78,-654.63 1467.25,-643 1478.36,-629.37 1494.89,-648.63 1506,-635 1534.84,-599.59 1524.86,-573.84 1506,-532.25 1490.36,-497.75 1456.87,-470.22 1429.56,-452.27"/>
<polygon fill="#555555" stroke="#555555" points="1431.79,-449.54 1421.47,-447.14 1428.04,-455.45 1431.79,-449.54"/>
<text xml:space="preserve" text-anchor="middle" x="1506.62" y="-661.48" font-family="Helvetica Neue" font-size="7.00">signInWithPassword()</text>
<text xml:space="preserve" text-anchor="middle" x="1506.62" y="-653.23" font-family="Helvetica Neue" font-size="7.00">or signUpWithPassword()</text>
</g>
<!-- auth_anon&#45;&gt;auth_none -->
<g id="edge14" class="edge">
<title>auth_anon&#45;&gt;auth_none</title>
<path fill="none" stroke="#555555" d="M1443.95,-747.68C1439.6,-769.24 1432.65,-803.69 1427.73,-828.03"/>
<polygon fill="#555555" stroke="#555555" points="1424.35,-827.09 1425.81,-837.59 1431.22,-828.48 1424.35,-827.09"/>
<text xml:space="preserve" text-anchor="middle" x="1450.06" y="-791.23" font-family="Helvetica Neue" font-size="7.00">signOut()</text>
</g>
<!-- auth_anon&#45;&gt;auth_email -->
<g id="edge12" class="edge">
<title>auth_anon&#45;&gt;auth_email</title>
<path fill="none" stroke="#555555" d="M1397.79,-710.49C1354.02,-697.2 1296.79,-679.56 1292,-676.75 1273.39,-665.84 1233.76,-626.69 1206.99,-599.22"/>
<polygon fill="#555555" stroke="#555555" points="1209.66,-596.95 1200.19,-592.2 1204.64,-601.82 1209.66,-596.95"/>
<text xml:space="preserve" text-anchor="middle" x="1317.5" y="-665.98" font-family="Helvetica Neue" font-size="7.00">linkWithEmail()</text>
<text xml:space="preserve" text-anchor="middle" x="1317.5" y="-657.73" font-family="Helvetica Neue" font-size="7.00">→ confirm email</text>
<text xml:space="preserve" text-anchor="middle" x="1317.5" y="-648.73" font-family="Helvetica Neue" font-size="7.00">(same user_id)</text>
</g>
<!-- auth_anon&#45;&gt;auth_full -->
<g id="edge13" class="edge">
<title>auth_anon&#45;&gt;auth_full</title>
<path fill="none" stroke="#555555" d="M1413.86,-705.44C1390.65,-689.57 1361.81,-665.14 1348.5,-635 1321.93,-574.86 1352.44,-497.08 1372.77,-456.42"/>
<polygon fill="#555555" stroke="#555555" points="1375.87,-458.05 1377.35,-447.56 1369.65,-454.83 1375.87,-458.05"/>
<text xml:space="preserve" text-anchor="middle" x="1377.75" y="-576.1" font-family="Helvetica Neue" font-size="7.00">linkWithPassword()</text>
<text xml:space="preserve" text-anchor="middle" x="1377.75" y="-567.85" font-family="Helvetica Neue" font-size="7.00">→ confirm email</text>
<text xml:space="preserve" text-anchor="middle" x="1377.75" y="-558.85" font-family="Helvetica Neue" font-size="7.00">(same user_id)</text>
</g>
<!-- auth_anon&#45;&gt;auth_full -->
<g id="edge15" class="edge">
<title>auth_anon&#45;&gt;auth_full</title>
<path fill="none" stroke="#dc3545" stroke-dasharray="5,2" d="M1438.3,-705.61C1434.49,-696.93 1430.46,-686.53 1428,-676.75 1412.28,-614.13 1423.95,-595.88 1413,-532.25 1408.58,-506.57 1401.44,-477.8 1395.92,-457.14"/>
<polygon fill="#dc3545" stroke="#dc3545" points="1399.37,-456.48 1393.36,-447.75 1392.61,-458.31 1399.37,-456.48"/>
<text xml:space="preserve" text-anchor="middle" x="1458.19" y="-575.73" font-family="Helvetica Neue" font-size="7.00" fill="#dc3545">signInWithPassword()</text>
<text xml:space="preserve" text-anchor="middle" x="1458.19" y="-567.48" font-family="Helvetica Neue" font-size="7.00" fill="#dc3545">⚠ DIFFERENT user!</text>
<text xml:space="preserve" text-anchor="middle" x="1458.19" y="-559.23" font-family="Helvetica Neue" font-size="7.00" fill="#dc3545">old anon data orphaned</text>
</g>
<!-- child_example -->
<g id="node14" class="node">
<title>child_example</title>
<path fill="#d4edda" stroke="black" d="M854.5,-590.88C854.5,-590.88 775.5,-590.88 775.5,-590.88 769.5,-590.88 763.5,-584.88 763.5,-578.88 763.5,-578.88 763.5,-561.12 763.5,-561.12 763.5,-555.12 769.5,-549.12 775.5,-549.12 775.5,-549.12 854.5,-549.12 854.5,-549.12 860.5,-549.12 866.5,-555.12 866.5,-561.12 866.5,-561.12 866.5,-578.88 866.5,-578.88 866.5,-584.88 860.5,-590.88 854.5,-590.88"/>
<text xml:space="preserve" text-anchor="middle" x="815" y="-578.33" font-family="Helvetica Neue" font-size="9.00">Example Child</text>
<text xml:space="preserve" text-anchor="middle" x="815" y="-567.08" font-family="Helvetica Neue" font-size="9.00">(local&#45;only demo)</text>
<text xml:space="preserve" text-anchor="middle" x="815" y="-555.83" font-family="Helvetica Neue" font-size="9.00">exampleChildId ≠ null</text>
</g>
<!-- auth_anon&#45;&gt;child_example -->
<g id="edge77" class="edge">
<title>auth_anon&#45;&gt;child_example</title>
<path fill="none" stroke="#999999" stroke-dasharray="1,5" d="M1397.89,-708.97C1387.13,-705.84 1375.76,-702.85 1365,-700.62 1274.3,-681.89 1248.63,-695.78 1158,-676.75 1058,-655.75 945.38,-618.27 877.33,-594.03"/>
<polygon fill="#999999" stroke="#999999" points="878.82,-590.85 868.23,-590.77 876.46,-597.44 878.82,-590.85"/>
<text xml:space="preserve" text-anchor="middle" x="1200" y="-662.23" font-family="Helvetica Neue" font-size="7.00">enableSync → no DB data</text>
<text xml:space="preserve" text-anchor="middle" x="1200" y="-653.23" font-family="Helvetica Neue" font-size="7.00">→ example child</text>
</g>
<!-- child_synced -->
<g id="node16" class="node">
<title>child_synced</title>
<path fill="#cce5ff" stroke="black" d="M783.75,-315.25C783.75,-315.25 712.25,-315.25 712.25,-315.25 706.25,-315.25 700.25,-309.25 700.25,-303.25 700.25,-303.25 700.25,-291.25 700.25,-291.25 700.25,-285.25 706.25,-279.25 712.25,-279.25 712.25,-279.25 783.75,-279.25 783.75,-279.25 789.75,-279.25 795.75,-285.25 795.75,-291.25 795.75,-291.25 795.75,-303.25 795.75,-303.25 795.75,-309.25 789.75,-315.25 783.75,-315.25"/>
<text xml:space="preserve" text-anchor="middle" x="748" y="-299.95" font-family="Helvetica Neue" font-size="9.00">Synced Own Child</text>
<text xml:space="preserve" text-anchor="middle" x="748" y="-288.7" font-family="Helvetica Neue" font-size="9.00">(exists in Supabase)</text>
</g>
<!-- auth_anon&#45;&gt;child_synced -->
<g id="edge78" class="edge">
<title>auth_anon&#45;&gt;child_synced</title>
<path fill="none" stroke="#999999" stroke-dasharray="1,5" d="M1498.39,-723.02C1531.15,-718.4 1571.61,-706.53 1593,-676.75 1645.07,-604.25 1828.72,-679.24 1531,-401.88 1426.29,-304.32 971.75,-296.96 807.5,-297.57"/>
<polygon fill="#999999" stroke="#999999" points="807.68,-294.07 797.69,-297.62 807.71,-301.07 807.68,-294.07"/>
<text xml:space="preserve" text-anchor="middle" x="1676.48" y="-488.35" font-family="Helvetica Neue" font-size="7.00">enableSync → has DB data</text>
</g>
<!-- auth_email&#45;&gt;auth_none -->
<g id="edge17" class="edge">
<title>auth_email&#45;&gt;auth_none</title>
<path fill="none" stroke="#555555" d="M1178.05,-591.33C1175.4,-630.89 1175.23,-719.07 1219,-772.62 1255.44,-817.22 1319.55,-838.37 1365.99,-848.22"/>
<polygon fill="#555555" stroke="#555555" points="1365.12,-851.61 1375.61,-850.13 1366.49,-844.75 1365.12,-851.61"/>
<text xml:space="preserve" text-anchor="middle" x="1232.5" y="-724.1" font-family="Helvetica Neue" font-size="7.00">signOut()</text>
</g>
<!-- auth_email&#45;&gt;auth_full -->
<g id="edge16" class="edge">
<title>auth_email&#45;&gt;auth_full</title>
<path fill="none" stroke="#555555" d="M1193.49,-548.64C1207.93,-528.24 1232.56,-497.15 1260.5,-477.75 1281.93,-462.87 1308.5,-451.75 1331.83,-443.91"/>
<polygon fill="#555555" stroke="#555555" points="1332.76,-447.29 1341.2,-440.89 1330.61,-440.62 1332.76,-447.29"/>
<text xml:space="preserve" text-anchor="middle" x="1282.25" y="-487.98" font-family="Helvetica Neue" font-size="7.00">setPassword()</text>
</g>
<!-- auth_full&#45;&gt;auth_none -->
<g id="edge19" class="edge">
<title>auth_full&#45;&gt;auth_none</title>
<path fill="none" stroke="#555555" d="M1433.44,-445.67C1451.32,-453.66 1471.3,-464.41 1487,-477.75 1547.15,-528.84 1542.92,-564.6 1552,-643 1560.57,-716.98 1570.9,-755.48 1517,-806.88 1505.52,-817.82 1491.14,-826.98 1477.07,-834.32"/>
<polygon fill="#555555" stroke="#555555" points="1475.69,-831.1 1468.28,-838.68 1478.8,-837.37 1475.69,-831.1"/>
<text xml:space="preserve" text-anchor="middle" x="1569.51" y="-657.35" font-family="Helvetica Neue" font-size="7.00">signOut()</text>
</g>
<!-- auth_full&#45;&gt;auth_full -->
<g id="edge18" class="edge">
<title>auth_full&#45;&gt;auth_full</title>
<path fill="none" stroke="#555555" d="M1433.34,-439.27C1455.95,-440.85 1476.12,-437.05 1476.12,-427.88 1476.12,-420.28 1462.29,-416.37 1444.7,-416.14"/>
<polygon fill="#555555" stroke="#555555" points="1444.75,-412.64 1434.85,-416.43 1444.95,-419.64 1444.75,-412.64"/>
<text xml:space="preserve" text-anchor="middle" x="1505.38" y="-429.48" font-family="Helvetica Neue" font-size="7.00">setPassword()</text>
<text xml:space="preserve" text-anchor="middle" x="1505.38" y="-421.23" font-family="Helvetica Neue" font-size="7.00">(change password)</text>
</g>
<!-- auth_full&#45;&gt;child_synced -->
<g id="edge79" class="edge">
<title>auth_full&#45;&gt;child_synced</title>
<path fill="none" stroke="#999999" stroke-dasharray="1,5" d="M1342.49,-417.73C1228.97,-394.91 933.39,-335.51 806.86,-310.08"/>
<polygon fill="#999999" stroke="#999999" points="807.86,-306.71 797.36,-308.17 806.48,-313.57 807.86,-306.71"/>
<text xml:space="preserve" text-anchor="middle" x="1174.89" y="-363.1" font-family="Helvetica Neue" font-size="7.00">enableSync → load</text>
<text xml:space="preserve" text-anchor="middle" x="1174.89" y="-354.1" font-family="Helvetica Neue" font-size="7.00">user&#39;s children</text>
</g>
<!-- child_none -->
<g id="node13" class="node">
<title>child_none</title>
<path fill="#f8d7da" stroke="black" d="M667.88,-744.62C667.88,-744.62 624.12,-744.62 624.12,-744.62 618.12,-744.62 612.12,-738.62 612.12,-732.62 612.12,-732.62 612.12,-720.62 612.12,-720.62 612.12,-714.62 618.12,-708.62 624.12,-708.62 624.12,-708.62 667.88,-708.62 667.88,-708.62 673.88,-708.62 679.88,-714.62 679.88,-720.62 679.88,-720.62 679.88,-732.62 679.88,-732.62 679.88,-738.62 673.88,-744.62 667.88,-744.62"/>
<text xml:space="preserve" text-anchor="middle" x="646" y="-729.33" font-family="Helvetica Neue" font-size="9.00">No Children</text>
<text xml:space="preserve" text-anchor="middle" x="646" y="-718.08" font-family="Helvetica Neue" font-size="9.00">(empty store)</text>
</g>
<!-- child_none&#45;&gt;child_example -->
<g id="edge20" class="edge">
<title>child_none&#45;&gt;child_example</title>
<path fill="none" stroke="#555555" d="M680.06,-724.07C714.29,-720.6 766,-709.79 795,-676.75 812.74,-656.54 816.85,-625.63 817.06,-602.44"/>
<polygon fill="#555555" stroke="#555555" points="820.56,-602.57 816.88,-592.63 813.56,-602.69 820.56,-602.57"/>
<text xml:space="preserve" text-anchor="middle" x="843.33" y="-665.98" font-family="Helvetica Neue" font-size="7.00">enableSync()</text>
<text xml:space="preserve" text-anchor="middle" x="843.33" y="-657.73" font-family="Helvetica Neue" font-size="7.00">no data in DB</text>
<text xml:space="preserve" text-anchor="middle" x="843.33" y="-649.48" font-family="Helvetica Neue" font-size="7.00">→ inject demo child</text>
</g>
<!-- child_pending -->
<g id="node15" class="node">
<title>child_pending</title>
<path fill="#fff3cd" stroke="black" d="M545.25,-448.75C545.25,-448.75 470.75,-448.75 470.75,-448.75 464.75,-448.75 458.75,-442.75 458.75,-436.75 458.75,-436.75 458.75,-419 458.75,-419 458.75,-413 464.75,-407 470.75,-407 470.75,-407 545.25,-407 545.25,-407 551.25,-407 557.25,-413 557.25,-419 557.25,-419 557.25,-436.75 557.25,-436.75 557.25,-442.75 551.25,-448.75 545.25,-448.75"/>
<text xml:space="preserve" text-anchor="middle" x="508" y="-436.2" font-family="Helvetica Neue" font-size="9.00">Pending Child</text>
<text xml:space="preserve" text-anchor="middle" x="508" y="-424.95" font-family="Helvetica Neue" font-size="9.00">(local, missing fields)</text>
<text xml:space="preserve" text-anchor="middle" x="508" y="-413.7" font-family="Helvetica Neue" font-size="9.00">in pendingChildIds</text>
</g>
<!-- child_none&#45;&gt;child_pending -->
<g id="edge40" class="edge">
<title>child_none&#45;&gt;child_pending</title>
<path fill="none" stroke="#555555" d="M645.26,-708.34C642.97,-672.57 633.68,-589.02 596,-532.25 584.25,-514.55 572.57,-518.72 558,-503.25 545.47,-489.94 533.91,-473.19 525.07,-458.95"/>
<polygon fill="#555555" stroke="#555555" points="528.08,-457.16 519.92,-450.41 522.08,-460.78 528.08,-457.16"/>
<text xml:space="preserve" text-anchor="middle" x="650.93" y="-567.48" font-family="Helvetica Neue" font-size="7.00">addChild()</text>
</g>
<!-- child_none&#45;&gt;child_synced -->
<g id="edge21" class="edge">
<title>child_none&#45;&gt;child_synced</title>
<path fill="none" stroke="#555555" d="M611.77,-715.94C587.62,-708 555.36,-695.06 531,-676.75 427.8,-599.17 351.65,-498.75 437,-401.88 492.68,-338.68 560.83,-432.55 625,-378 636.92,-367.87 624.5,-355.84 635,-344.25 649.22,-328.56 669.57,-318.1 689.09,-311.19"/>
<polygon fill="#555555" stroke="#555555" points="689.94,-314.6 698.37,-308.18 687.78,-307.94 689.94,-314.6"/>
<text xml:space="preserve" text-anchor="middle" x="429.34" y="-492.1" font-family="Helvetica Neue" font-size="7.00">enableSync()</text>
<text xml:space="preserve" text-anchor="middle" x="429.34" y="-483.85" font-family="Helvetica Neue" font-size="7.00">own children exist</text>
</g>
<!-- child_none&#45;&gt;child_synced -->
<g id="edge36" class="edge">
<title>child_none&#45;&gt;child_synced</title>
<path fill="none" stroke="#555555" stroke-dasharray="5,2" d="M680.17,-723.58C739.66,-719.26 858.46,-706.99 885,-676.75 900.45,-659.15 908.06,-581.91 888,-532.25 881.29,-515.64 870.1,-518.05 860,-503.25 816.15,-439.03 828.75,-409.85 787,-344.25 782.69,-337.48 777.47,-330.65 772.27,-324.39"/>
<polygon fill="#555555" stroke="#555555" points="774.95,-322.14 765.76,-316.86 769.65,-326.71 774.95,-322.14"/>
<text xml:space="preserve" text-anchor="middle" x="900.5" y="-492.48" font-family="Helvetica Neue" font-size="7.00">importChildren()</text>
<text xml:space="preserve" text-anchor="middle" x="900.5" y="-484.23" font-family="Helvetica Neue" font-size="7.00">→ immediate DB creation</text>
</g>
<!-- child_shared -->
<g id="node17" class="node">
<title>child_shared</title>
<path fill="#e2d5f1" stroke="black" d="M524.25,-57.75C524.25,-57.75 461.75,-57.75 461.75,-57.75 455.75,-57.75 449.75,-51.75 449.75,-45.75 449.75,-45.75 449.75,-28 449.75,-28 449.75,-22 455.75,-16 461.75,-16 461.75,-16 524.25,-16 524.25,-16 530.25,-16 536.25,-22 536.25,-28 536.25,-28 536.25,-45.75 536.25,-45.75 536.25,-51.75 530.25,-57.75 524.25,-57.75"/>
<text xml:space="preserve" text-anchor="middle" x="493" y="-45.2" font-family="Helvetica Neue" font-size="9.00">Shared Child</text>
<text xml:space="preserve" text-anchor="middle" x="493" y="-33.95" font-family="Helvetica Neue" font-size="9.00">(read&#45;only)</text>
<text xml:space="preserve" text-anchor="middle" x="493" y="-22.7" font-family="Helvetica Neue" font-size="9.00">in sharedChildIds</text>
</g>
<!-- child_none&#45;&gt;child_shared -->
<g id="edge22" class="edge">
<title>child_none&#45;&gt;child_shared</title>
<path fill="none" stroke="#555555" d="M611.66,-725.04C542.7,-723.08 391.21,-714.46 359,-676.75 308.92,-618.11 357.44,-580.36 357,-503.25 356.74,-458.19 334.46,-439.67 359,-401.88 372.41,-381.22 393.44,-397.09 409,-378 484.44,-285.42 493.57,-134.77 493.73,-69.59"/>
<polygon fill="#555555" stroke="#555555" points="497.23,-69.59 493.67,-59.61 490.23,-69.63 497.23,-69.59"/>
<text xml:space="preserve" text-anchor="middle" x="463.76" y="-362.73" font-family="Helvetica Neue" font-size="7.00">enableSync()</text>
<text xml:space="preserve" text-anchor="middle" x="463.76" y="-354.48" font-family="Helvetica Neue" font-size="7.00">only shared children</text>
</g>
<!-- child_none&#45;&gt;child_shared -->
<g id="edge38" class="edge">
<title>child_none&#45;&gt;child_shared</title>
<path fill="none" stroke="#555555" d="M611.9,-725.05C555.66,-722 445,-706.69 398,-635 369.6,-591.67 364.27,-440.32 399,-401.88 431.66,-365.72 475.53,-416.02 506,-378 579.19,-286.68 531.36,-133.1 505.95,-68.24"/>
<polygon fill="#555555" stroke="#555555" points="509.34,-67.28 502.36,-59.31 502.84,-69.89 509.34,-67.28"/>
<text xml:space="preserve" text-anchor="middle" x="553.82" y="-358.6" font-family="Helvetica Neue" font-size="7.00">acceptLiveShare()</text>
</g>
<!-- child_multi -->
<g id="node18" class="node">
<title>child_multi</title>
<path fill="#d1ecf1" stroke="black" d="M833.75,-176.75C833.75,-176.75 756.25,-176.75 756.25,-176.75 750.25,-176.75 744.25,-170.75 744.25,-164.75 744.25,-164.75 744.25,-152.75 744.25,-152.75 744.25,-146.75 750.25,-140.75 756.25,-140.75 756.25,-140.75 833.75,-140.75 833.75,-140.75 839.75,-140.75 845.75,-146.75 845.75,-152.75 845.75,-152.75 845.75,-164.75 845.75,-164.75 845.75,-170.75 839.75,-176.75 833.75,-176.75"/>
<text xml:space="preserve" text-anchor="middle" x="795" y="-161.45" font-family="Helvetica Neue" font-size="9.00">Multiple Children</text>
<text xml:space="preserve" text-anchor="middle" x="795" y="-150.2" font-family="Helvetica Neue" font-size="9.00">(mix of own + shared)</text>
</g>
<!-- child_none&#45;&gt;child_multi -->
<g id="edge23" class="edge">
<title>child_none&#45;&gt;child_multi</title>
<path fill="none" stroke="#555555" d="M680.06,-723.56C742.15,-719.09 870.3,-706.45 902,-676.75 968.17,-614.75 971.59,-565.03 947,-477.75 942.9,-463.2 933.35,-463.3 929.25,-448.75 923.6,-428.7 924.15,-422.07 929.25,-401.88 944.35,-342.09 993.42,-330.4 976,-271.25 960.65,-219.14 903.11,-190.09 856.97,-174.81"/>
<polygon fill="#555555" stroke="#555555" points="858.16,-171.52 847.57,-171.85 856.06,-178.19 858.16,-171.52"/>
<text xml:space="preserve" text-anchor="middle" x="959.62" y="-429.48" font-family="Helvetica Neue" font-size="7.00">enableSync()</text>
<text xml:space="preserve" text-anchor="middle" x="959.62" y="-421.23" font-family="Helvetica Neue" font-size="7.00">own + shared exist</text>
</g>
<!-- child_example&#45;&gt;child_none -->
<g id="edge25" class="edge">
<title>child_example&#45;&gt;child_none</title>
<path fill="none" stroke="#555555" d="M793.68,-591.37C777.46,-605.73 753.92,-624.24 730,-635 713.66,-642.35 704.89,-632.33 690.5,-643 672.51,-656.35 661.01,-679.18 654.22,-697.47"/>
<polygon fill="#555555" stroke="#555555" points="650.98,-696.12 651.07,-706.71 657.61,-698.38 650.98,-696.12"/>
<text xml:space="preserve" text-anchor="middle" x="737.75" y="-669.73" font-family="Helvetica Neue" font-size="7.00">Reactive guard triggers:</text>
<text xml:space="preserve" text-anchor="middle" x="737.75" y="-661.48" font-family="Helvetica Neue" font-size="7.00">addChild() / acceptLiveShare()</text>
<text xml:space="preserve" text-anchor="middle" x="737.75" y="-653.23" font-family="Helvetica Neue" font-size="7.00">/ importChildren()</text>
<text xml:space="preserve" text-anchor="middle" x="737.75" y="-644.98" font-family="Helvetica Neue" font-size="7.00">removes example</text>
</g>
<!-- child_example&#45;&gt;child_pending -->
<g id="edge24" class="edge">
<title>child_example&#45;&gt;child_pending</title>
<path fill="none" stroke="#555555" d="M780.77,-548.63C759.05,-535.67 730.35,-518.52 705,-503.25 686.29,-491.98 682.89,-486.77 663,-477.75 632.81,-464.06 597.68,-452.65 568.51,-444.3"/>
<polygon fill="#555555" stroke="#555555" points="569.67,-440.99 559.1,-441.66 567.78,-447.73 569.67,-440.99"/>
<text xml:space="preserve" text-anchor="middle" x="753" y="-496.6" font-family="Helvetica Neue" font-size="7.00">updateProfile() or</text>
<text xml:space="preserve" text-anchor="middle" x="753" y="-488.35" font-family="Helvetica Neue" font-size="7.00">addMeasurement()</text>
<text xml:space="preserve" text-anchor="middle" x="753" y="-480.1" font-family="Helvetica Neue" font-size="7.00">→ convertExampleToPending()</text>
</g>
<!-- child_example&#45;&gt;child_synced -->
<g id="edge37" class="edge">
<title>child_example&#45;&gt;child_synced</title>
<path fill="none" stroke="#555555" stroke-dasharray="5,2" d="M815.72,-549.03C816.15,-525.56 815.41,-488.43 807,-477.75 781.98,-445.97 744.35,-481.59 720.75,-448.75 708.59,-431.83 709.49,-419.4 720.75,-401.88 734.55,-380.39 759.2,-399.48 773,-378 783.33,-361.93 776.42,-341.29 767.27,-325.04"/>
<polygon fill="#555555" stroke="#555555" points="770.45,-323.52 762.21,-316.85 764.49,-327.2 770.45,-323.52"/>
<text xml:space="preserve" text-anchor="middle" x="759.38" y="-433.98" font-family="Helvetica Neue" font-size="7.00">importChildren()</text>
<text xml:space="preserve" text-anchor="middle" x="759.38" y="-425.73" font-family="Helvetica Neue" font-size="7.00">→ example removed</text>
<text xml:space="preserve" text-anchor="middle" x="759.38" y="-416.73" font-family="Helvetica Neue" font-size="7.00">+ children created in DB</text>
</g>
<!-- child_pending&#45;&gt;child_none -->
<g id="edge27" class="edge">
<title>child_pending&#45;&gt;child_none</title>
<path fill="none" stroke="#555555" d="M505.98,-449.12C503.08,-487.89 501.35,-574.14 535.25,-635 551.03,-663.33 579.51,-686.33 603.63,-702.07"/>
<polygon fill="#555555" stroke="#555555" points="601.7,-704.99 612.03,-707.35 605.43,-699.06 601.7,-704.99"/>
<text xml:space="preserve" text-anchor="middle" x="562.62" y="-571.6" font-family="Helvetica Neue" font-size="7.00">removeChild()</text>
<text xml:space="preserve" text-anchor="middle" x="562.62" y="-563.35" font-family="Helvetica Neue" font-size="7.00">(local&#45;only delete)</text>
</g>
<!-- child_pending&#45;&gt;child_synced -->
<g id="edge26" class="edge">
<title>child_pending&#45;&gt;child_synced</title>
<path fill="none" stroke="#555555" d="M557.58,-411.24C580.94,-402.91 608.71,-391.57 632,-378 652.62,-365.99 654.29,-358.06 673.75,-344.25 684.75,-336.44 697.07,-328.51 708.46,-321.48"/>
<polygon fill="#555555" stroke="#555555" points="710.17,-324.54 716.89,-316.34 706.53,-318.56 710.17,-324.54"/>
<text xml:space="preserve" text-anchor="middle" x="716.88" y="-371.35" font-family="Helvetica Neue" font-size="7.00">updateProfile()</text>
<text xml:space="preserve" text-anchor="middle" x="716.88" y="-363.1" font-family="Helvetica Neue" font-size="7.00">birthDate + sex provided</text>
<text xml:space="preserve" text-anchor="middle" x="716.88" y="-354.85" font-family="Helvetica Neue" font-size="7.00">→ syncChildToBackend()</text>
<text xml:space="preserve" text-anchor="middle" x="716.88" y="-345.85" font-family="Helvetica Neue" font-size="7.00">(ID replaced with DB UUID)</text>
</g>
<!-- child_synced&#45;&gt;child_none -->
<g id="edge29" class="edge">
<title>child_synced&#45;&gt;child_none</title>
<path fill="none" stroke="#555555" d="M759.16,-315.61C768.68,-332.86 778.95,-359.35 766,-378 748.69,-402.94 728.89,-387.79 702,-401.88 649.71,-429.27 620.33,-425.43 593,-477.75 587.75,-487.8 586.42,-494.02 593,-503.25 615.92,-535.41 654.08,-500.09 677,-532.25 703.5,-569.44 703.2,-597.6 677,-635 671.03,-643.52 661.42,-634.81 655,-643 648.56,-651.21 646.52,-676.51 645.97,-696.97"/>
<polygon fill="#555555" stroke="#555555" points="642.47,-696.73 645.82,-706.78 649.47,-696.84 642.47,-696.73"/>
<text xml:space="preserve" text-anchor="middle" x="623" y="-496.6" font-family="Helvetica Neue" font-size="7.00">removeChild()</text>
<text xml:space="preserve" text-anchor="middle" x="623" y="-488.35" font-family="Helvetica Neue" font-size="7.00">→ api.deleteChild()</text>
<text xml:space="preserve" text-anchor="middle" x="623" y="-479.35" font-family="Helvetica Neue" font-size="7.00">(if last child)</text>
</g>
<!-- child_synced&#45;&gt;child_synced -->
<g id="edge28" class="edge">
<title>child_synced&#45;&gt;child_synced</title>
<path fill="none" stroke="#555555" d="M796.09,-308.21C818.8,-309.48 838.75,-305.83 838.75,-297.25 838.75,-290.15 825.07,-286.42 807.47,-286.07"/>
<polygon fill="#555555" stroke="#555555" points="807.53,-282.57 797.6,-286.26 807.67,-289.57 807.53,-282.57"/>
<text xml:space="preserve" text-anchor="middle" x="908.88" y="-307.1" font-family="Helvetica Neue" font-size="7.00">updateProfile() / addMeasurement()</text>
<text xml:space="preserve" text-anchor="middle" x="908.88" y="-298.85" font-family="Helvetica Neue" font-size="7.00">updateMeasurement() / deleteMeasurement()</text>
<text xml:space="preserve" text-anchor="middle" x="908.88" y="-290.6" font-family="Helvetica Neue" font-size="7.00">clearMeasurements()</text>
<text xml:space="preserve" text-anchor="middle" x="908.88" y="-282.35" font-family="Helvetica Neue" font-size="7.00">(optimistic + API sync)</text>
</g>
<!-- child_synced&#45;&gt;child_multi -->
<g id="edge30" class="edge">
<title>child_synced&#45;&gt;child_multi</title>
<path fill="none" stroke="#555555" d="M713.65,-278.88C702.95,-271.61 692.41,-262.05 686.5,-250.25 681.42,-240.12 680.91,-234.61 686.5,-224.75 697,-206.21 715.13,-192.39 733.6,-182.37"/>
<polygon fill="#555555" stroke="#555555" points="735.15,-185.51 742.49,-177.87 731.99,-179.26 735.15,-185.51"/>
<text xml:space="preserve" text-anchor="middle" x="714.25" y="-239.1" font-family="Helvetica Neue" font-size="7.00">addChild() or</text>
<text xml:space="preserve" text-anchor="middle" x="714.25" y="-230.85" font-family="Helvetica Neue" font-size="7.00">acceptLiveShare()</text>
</g>
<!-- child_synced&#45;&gt;child_multi -->
<g id="edge39" class="edge">
<title>child_synced&#45;&gt;child_multi</title>
<path fill="none" stroke="#555555" d="M753.95,-278.96C761.86,-255.99 775.94,-215.11 785.37,-187.72"/>
<polygon fill="#555555" stroke="#555555" points="788.66,-188.92 788.6,-178.33 782.04,-186.64 788.66,-188.92"/>
<text xml:space="preserve" text-anchor="middle" x="806" y="-239.1" font-family="Helvetica Neue" font-size="7.00">acceptLiveShare()</text>
<text xml:space="preserve" text-anchor="middle" x="806" y="-230.85" font-family="Helvetica Neue" font-size="7.00">(adds read&#45;only child)</text>
</g>
<!-- child_synced&#45;&gt;child_multi -->
<g id="edge41" class="edge">
<title>child_synced&#45;&gt;child_multi</title>
<path fill="none" stroke="#555555" d="M796.17,-286.95C816.71,-280.35 838.74,-269.15 851,-250.25 865.19,-228.37 846.72,-203.12 827.28,-184.85"/>
<polygon fill="#555555" stroke="#555555" points="829.63,-182.26 819.83,-178.24 824.99,-187.49 829.63,-182.26"/>
<text xml:space="preserve" text-anchor="middle" x="895.76" y="-239.1" font-family="Helvetica Neue" font-size="7.00">addChild()</text>
<text xml:space="preserve" text-anchor="middle" x="895.76" y="-230.85" font-family="Helvetica Neue" font-size="7.00">(adds pending alongside)</text>
</g>
<!-- share_o_none -->
<g id="node19" class="node">
<title>share_o_none</title>
<path fill="white" stroke="black" d="M1191.5,-176.75C1191.5,-176.75 1142.5,-176.75 1142.5,-176.75 1136.5,-176.75 1130.5,-170.75 1130.5,-164.75 1130.5,-164.75 1130.5,-152.75 1130.5,-152.75 1130.5,-146.75 1136.5,-140.75 1142.5,-140.75 1142.5,-140.75 1191.5,-140.75 1191.5,-140.75 1197.5,-140.75 1203.5,-146.75 1203.5,-152.75 1203.5,-152.75 1203.5,-164.75 1203.5,-164.75 1203.5,-170.75 1197.5,-176.75 1191.5,-176.75"/>
<text xml:space="preserve" text-anchor="middle" x="1167" y="-161.45" font-family="Helvetica Neue" font-size="9.00">Own Child</text>
<text xml:space="preserve" text-anchor="middle" x="1167" y="-150.2" font-family="Helvetica Neue" font-size="9.00">No share links</text>
</g>
<!-- child_synced&#45;&gt;share_o_none -->
<g id="edge80" class="edge">
<title>child_synced&#45;&gt;share_o_none</title>
<path fill="none" stroke="#6f42c1" stroke-dasharray="1,5" d="M796.19,-295.51C870.38,-292.37 1014.78,-278.09 1118,-216.75 1130.58,-209.27 1141.54,-197.41 1149.89,-186.43"/>
<polygon fill="#6f42c1" stroke="#6f42c1" points="1152.68,-188.55 1155.65,-178.38 1146.98,-184.48 1152.68,-188.55"/>
<text xml:space="preserve" text-anchor="middle" x="1132.91" y="-243.6" font-family="Helvetica Neue" font-size="7.00">Precondition:</text>
<text xml:space="preserve" text-anchor="middle" x="1132.91" y="-235.35" font-family="Helvetica Neue" font-size="7.00">synced + non&#45;anon</text>
<text xml:space="preserve" text-anchor="middle" x="1132.91" y="-227.1" font-family="Helvetica Neue" font-size="7.00">→ can create shares</text>
</g>
<!-- child_shared&#45;&gt;child_none -->
<g id="edge31" class="edge">
<title>child_shared&#45;&gt;child_none</title>
<path fill="none" stroke="#555555" d="M475.84,-58C437.41,-104.55 345.26,-224.86 312.75,-344.25 293.31,-415.64 279.22,-622.94 330,-676.75 366.1,-715.01 521.94,-723.41 600.44,-725.19"/>
<polygon fill="#555555" stroke="#555555" points="600.31,-728.69 610.38,-725.38 600.45,-721.69 600.31,-728.69"/>
<text xml:space="preserve" text-anchor="middle" x="355.88" y="-367.23" font-family="Helvetica Neue" font-size="7.00">removeChild()</text>
<text xml:space="preserve" text-anchor="middle" x="355.88" y="-358.98" font-family="Helvetica Neue" font-size="7.00">→ api.removeSharedChild()</text>
<text xml:space="preserve" text-anchor="middle" x="355.88" y="-349.98" font-family="Helvetica Neue" font-size="7.00">(if last child)</text>
</g>
<!-- child_multi&#45;&gt;child_none -->
<g id="edge35" class="edge">
<title>child_multi&#45;&gt;child_none</title>
<path fill="none" stroke="#555555" d="M846.01,-168.05C883.76,-176.54 934.29,-193.16 968,-224.75 984.55,-240.26 983.63,-249.22 989,-271.25 1027.36,-428.79 1028.2,-487.43 961,-635 951.2,-656.53 948.33,-664.66 928,-676.75 888.85,-700.05 761.07,-715.05 691.74,-721.68"/>
<polygon fill="#555555" stroke="#555555" points="691.46,-718.19 681.83,-722.61 692.11,-725.16 691.46,-718.19"/>
<text xml:space="preserve" text-anchor="middle" x="1043.75" y="-429.48" font-family="Helvetica Neue" font-size="7.00">removeChild()</text>
<text xml:space="preserve" text-anchor="middle" x="1043.75" y="-421.23" font-family="Helvetica Neue" font-size="7.00">(remove last child)</text>
</g>
<!-- child_multi&#45;&gt;child_synced -->
<g id="edge33" class="edge">
<title>child_multi&#45;&gt;child_synced</title>
<path fill="none" stroke="#555555" d="M744.11,-162.1C700.33,-167.13 639.6,-181.98 609.25,-224.75 584.95,-258.99 640.89,-277.97 688.84,-287.63"/>
<polygon fill="#555555" stroke="#555555" points="687.89,-291.01 698.37,-289.43 689.19,-284.13 687.89,-291.01"/>
<text xml:space="preserve" text-anchor="middle" x="641.12" y="-239.1" font-family="Helvetica Neue" font-size="7.00">removeChild()</text>
<text xml:space="preserve" text-anchor="middle" x="641.12" y="-230.85" font-family="Helvetica Neue" font-size="7.00">(remove last shared)</text>
</g>
<!-- child_multi&#45;&gt;child_shared -->
<g id="edge34" class="edge">
<title>child_multi&#45;&gt;child_shared</title>
<path fill="none" stroke="#555555" d="M751.09,-140.32C697.03,-118.86 605.25,-82.43 546.96,-59.29"/>
<polygon fill="#555555" stroke="#555555" points="548.47,-56.13 537.88,-55.69 545.89,-62.63 548.47,-56.13"/>
<text xml:space="preserve" text-anchor="middle" x="680.43" y="-96.6" font-family="Helvetica Neue" font-size="7.00">removeChild()</text>
<text xml:space="preserve" text-anchor="middle" x="680.43" y="-88.35" font-family="Helvetica Neue" font-size="7.00">(remove last own)</text>
</g>
<!-- child_multi&#45;&gt;child_multi -->
<g id="edge32" class="edge">
<title>child_multi&#45;&gt;child_multi</title>
<path fill="none" stroke="#555555" d="M846.11,-170.52C868.97,-171.64 888.75,-167.71 888.75,-158.75 888.75,-151.33 875.19,-147.36 857.54,-146.85"/>
<polygon fill="#555555" stroke="#555555" points="857.58,-143.35 847.62,-146.97 857.66,-150.35 857.58,-143.35"/>
<text xml:space="preserve" text-anchor="middle" x="944.62" y="-160.35" font-family="Helvetica Neue" font-size="7.00">addChild() / removeChild()</text>
<text xml:space="preserve" text-anchor="middle" x="944.62" y="-152.1" font-family="Helvetica Neue" font-size="7.00">acceptLiveShare() / importChildren()</text>
</g>
<!-- share_o_links -->
<g id="node20" class="node">
<title>share_o_links</title>
<path fill="#e2d5f1" stroke="black" d="M1242,-57.75C1242,-57.75 1178,-57.75 1178,-57.75 1172,-57.75 1166,-51.75 1166,-45.75 1166,-45.75 1166,-28 1166,-28 1166,-22 1172,-16 1178,-16 1178,-16 1242,-16 1242,-16 1248,-16 1254,-22 1254,-28 1254,-28 1254,-45.75 1254,-45.75 1254,-51.75 1248,-57.75 1242,-57.75"/>
<text xml:space="preserve" text-anchor="middle" x="1210" y="-45.2" font-family="Helvetica Neue" font-size="9.00">Own Child</text>
<text xml:space="preserve" text-anchor="middle" x="1210" y="-33.95" font-family="Helvetica Neue" font-size="9.00">Has share links</text>
<text xml:space="preserve" text-anchor="middle" x="1210" y="-22.7" font-family="Helvetica Neue" font-size="9.00">(1 or more tokens)</text>
</g>
<!-- share_o_none&#45;&gt;share_o_links -->
<g id="edge42" class="edge">
<title>share_o_none&#45;&gt;share_o_links</title>
<path fill="none" stroke="#555555" d="M1161.6,-140.43C1157.95,-125.62 1154.94,-104.02 1162,-86.75 1165.06,-79.26 1169.89,-72.29 1175.33,-66.11"/>
<polygon fill="#555555" stroke="#555555" points="1177.51,-68.88 1181.96,-59.27 1172.49,-64.01 1177.51,-68.88"/>
<text xml:space="preserve" text-anchor="middle" x="1202.5" y="-96.6" font-family="Helvetica Neue" font-size="7.00">createShare(childId, label)</text>
<text xml:space="preserve" text-anchor="middle" x="1202.5" y="-88.35" font-family="Helvetica Neue" font-size="7.00">via ShareModal</text>
</g>
<!-- share_o_links&#45;&gt;share_o_none -->
<g id="edge44" class="edge">
<title>share_o_links&#45;&gt;share_o_none</title>
<path fill="none" stroke="#555555" d="M1234.39,-58.21C1246.62,-70.97 1257.24,-87.87 1249,-103.25 1241.13,-117.94 1227.35,-129.34 1213.32,-137.84"/>
<polygon fill="#555555" stroke="#555555" points="1211.97,-134.58 1204.95,-142.52 1215.39,-140.69 1211.97,-134.58"/>
<text xml:space="preserve" text-anchor="middle" x="1279.28" y="-96.6" font-family="Helvetica Neue" font-size="7.00">revokeShare()</text>
<text xml:space="preserve" text-anchor="middle" x="1279.28" y="-88.35" font-family="Helvetica Neue" font-size="7.00">(last link revoked)</text>
</g>
<!-- share_o_links&#45;&gt;share_o_links -->
<g id="edge43" class="edge">
<title>share_o_links&#45;&gt;share_o_links</title>
<path fill="none" stroke="#555555" d="M1254.32,-47.42C1276.82,-48.96 1297,-45.45 1297,-36.88 1297,-29.78 1283.16,-26.15 1265.62,-25.98"/>
<polygon fill="#555555" stroke="#555555" points="1265.72,-22.48 1255.83,-26.28 1265.93,-29.47 1265.72,-22.48"/>
<text xml:space="preserve" text-anchor="middle" x="1324" y="-46.73" font-family="Helvetica Neue" font-size="7.00">createShare()</text>
<text xml:space="preserve" text-anchor="middle" x="1324" y="-38.48" font-family="Helvetica Neue" font-size="7.00">(add another link)</text>
<text xml:space="preserve" text-anchor="middle" x="1324" y="-30.23" font-family="Helvetica Neue" font-size="7.00">or revokeShare()</text>
<text xml:space="preserve" text-anchor="middle" x="1324" y="-21.98" font-family="Helvetica Neue" font-size="7.00">(others remain)</text>
</g>
<!-- share_r_none -->
<g id="node21" class="node">
<title>share_r_none</title>
<path fill="white" stroke="black" d="M1784.38,-875.44C1784.38,-875.44 1749.62,-875.44 1749.62,-875.44 1743.62,-875.44 1737.62,-869.44 1737.62,-863.44 1737.62,-863.44 1737.62,-851.44 1737.62,-851.44 1737.62,-845.44 1743.62,-839.44 1749.62,-839.44 1749.62,-839.44 1784.38,-839.44 1784.38,-839.44 1790.38,-839.44 1796.38,-845.44 1796.38,-851.44 1796.38,-851.44 1796.38,-863.44 1796.38,-863.44 1796.38,-869.44 1790.38,-875.44 1784.38,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="1767" y="-860.14" font-family="Helvetica Neue" font-size="9.00">No Shared</text>
<text xml:space="preserve" text-anchor="middle" x="1767" y="-848.89" font-family="Helvetica Neue" font-size="9.00">Children</text>
</g>
<!-- share_r_has -->
<g id="node22" class="node">
<title>share_r_has</title>
<path fill="#e2d5f1" stroke="black" d="M1774.62,-744.62C1774.62,-744.62 1699.38,-744.62 1699.38,-744.62 1693.38,-744.62 1687.38,-738.62 1687.38,-732.62 1687.38,-732.62 1687.38,-720.62 1687.38,-720.62 1687.38,-714.62 1693.38,-708.62 1699.38,-708.62 1699.38,-708.62 1774.62,-708.62 1774.62,-708.62 1780.62,-708.62 1786.62,-714.62 1786.62,-720.62 1786.62,-720.62 1786.62,-732.62 1786.62,-732.62 1786.62,-738.62 1780.62,-744.62 1774.62,-744.62"/>
<text xml:space="preserve" text-anchor="middle" x="1737" y="-729.33" font-family="Helvetica Neue" font-size="9.00">Has Shared Children</text>
<text xml:space="preserve" text-anchor="middle" x="1737" y="-718.08" font-family="Helvetica Neue" font-size="9.00">(read&#45;only access)</text>
</g>
<!-- share_r_none&#45;&gt;share_r_has -->
<g id="edge45" class="edge">
<title>share_r_none&#45;&gt;share_r_has</title>
<path fill="none" stroke="#555555" d="M1737.22,-846.11C1719.63,-838.29 1698.85,-825.65 1688.5,-806.88 1678.29,-788.35 1691.27,-768.01 1706.35,-752.57"/>
<polygon fill="#555555" stroke="#555555" points="1708.4,-755.46 1713.23,-746.03 1703.57,-750.39 1708.4,-755.46"/>
<text xml:space="preserve" text-anchor="middle" x="1738.75" y="-800.23" font-family="Helvetica Neue" font-size="7.00">Open #live&#45;share=&lt;token&gt; URL</text>
<text xml:space="preserve" text-anchor="middle" x="1738.75" y="-791.98" font-family="Helvetica Neue" font-size="7.00">→ acceptLiveShare(token)</text>
<text xml:space="preserve" text-anchor="middle" x="1738.75" y="-782.98" font-family="Helvetica Neue" font-size="7.00">→ api.acceptShare RPC</text>
</g>
<!-- share_r_has&#45;&gt;share_r_none -->
<g id="edge47" class="edge">
<title>share_r_has&#45;&gt;share_r_none</title>
<path fill="none" stroke="#555555" d="M1764.64,-745.09C1776.33,-754.12 1788.67,-766.27 1795,-780.62 1802.04,-796.59 1795.64,-814.92 1787.19,-829.57"/>
<polygon fill="#555555" stroke="#555555" points="1784.39,-827.45 1781.97,-837.76 1790.29,-831.21 1784.39,-827.45"/>
<text xml:space="preserve" text-anchor="middle" x="1841.13" y="-795.73" font-family="Helvetica Neue" font-size="7.00">removeChild(sharedId)</text>
<text xml:space="preserve" text-anchor="middle" x="1841.13" y="-787.48" font-family="Helvetica Neue" font-size="7.00">→ api.removeSharedChild()</text>
</g>
<!-- share_r_has&#45;&gt;share_r_has -->
<g id="edge46" class="edge">
<title>share_r_has&#45;&gt;share_r_has</title>
<path fill="none" stroke="#555555" d="M1787.02,-738.92C1809.81,-740.18 1829.62,-736.08 1829.62,-726.62 1829.62,-718.8 1816.04,-714.64 1798.43,-714.16"/>
<polygon fill="#555555" stroke="#555555" points="1798.48,-710.66 1788.54,-714.31 1798.59,-717.66 1798.48,-710.66"/>
<text xml:space="preserve" text-anchor="middle" x="1863.38" y="-724.1" font-family="Helvetica Neue" font-size="7.00">Accept another share</text>
</g>
<!-- view_loading -->
<g id="node23" class="node">
<title>view_loading</title>
<path fill="#fff3cd" stroke="black" d="M2170.12,-878.32C2170.12,-878.32 2067.88,-878.32 2067.88,-878.32 2061.88,-878.32 2055.88,-872.32 2055.88,-866.32 2055.88,-866.32 2055.88,-848.57 2055.88,-848.57 2055.88,-842.57 2061.88,-836.57 2067.88,-836.57 2067.88,-836.57 2170.12,-836.57 2170.12,-836.57 2176.12,-836.57 2182.12,-842.57 2182.12,-848.57 2182.12,-848.57 2182.12,-866.32 2182.12,-866.32 2182.12,-872.32 2176.12,-878.32 2170.12,-878.32"/>
<text xml:space="preserve" text-anchor="middle" x="2119" y="-865.77" font-family="Helvetica Neue" font-size="9.00">Loading Screen</text>
<text xml:space="preserve" text-anchor="middle" x="2119" y="-854.52" font-family="Helvetica Neue" font-size="9.00">(spinner)</text>
<text xml:space="preserve" text-anchor="middle" x="2119" y="-843.27" font-family="Helvetica Neue" font-size="9.00">authLoading || dataLoading</text>
</g>
<!-- view_welcome -->
<g id="node24" class="node">
<title>view_welcome</title>
<path fill="#f8d7da" stroke="black" d="M2040,-588C2040,-588 1964,-588 1964,-588 1958,-588 1952,-582 1952,-576 1952,-576 1952,-564 1952,-564 1952,-558 1958,-552 1964,-552 1964,-552 2040,-552 2040,-552 2046,-552 2052,-558 2052,-564 2052,-564 2052,-576 2052,-576 2052,-582 2046,-588 2040,-588"/>
<text xml:space="preserve" text-anchor="middle" x="2002" y="-572.7" font-family="Helvetica Neue" font-size="9.00">Welcome Screen</text>
<text xml:space="preserve" text-anchor="middle" x="2002" y="-561.45" font-family="Helvetica Neue" font-size="9.00">showWelcome = true</text>
</g>
<!-- view_loading&#45;&gt;view_welcome -->
<g id="edge49" class="edge">
<title>view_loading&#45;&gt;view_welcome</title>
<path fill="none" stroke="#555555" d="M2091.44,-836.22C2071.74,-820.63 2045.73,-797.56 2028.25,-772.62 2001.73,-734.78 1997.12,-722.05 1988,-676.75 1982.76,-650.71 1987.78,-620.65 1993.22,-599.25"/>
<polygon fill="#555555" stroke="#555555" points="1996.54,-600.36 1995.82,-589.79 1989.79,-598.51 1996.54,-600.36"/>
<text xml:space="preserve" text-anchor="middle" x="2055.62" y="-728.23" font-family="Helvetica Neue" font-size="7.00">auto&#45;anon sign&#45;in</text>
<text xml:space="preserve" text-anchor="middle" x="2055.62" y="-719.98" font-family="Helvetica Neue" font-size="7.00">failed</text>
</g>
<!-- view_dashboard -->
<g id="node25" class="node">
<title>view_dashboard</title>
<path fill="#d4edda" stroke="black" d="M2342.75,-747.5C2342.75,-747.5 2265.25,-747.5 2265.25,-747.5 2259.25,-747.5 2253.25,-741.5 2253.25,-735.5 2253.25,-735.5 2253.25,-717.75 2253.25,-717.75 2253.25,-711.75 2259.25,-705.75 2265.25,-705.75 2265.25,-705.75 2342.75,-705.75 2342.75,-705.75 2348.75,-705.75 2354.75,-711.75 2354.75,-717.75 2354.75,-717.75 2354.75,-735.5 2354.75,-735.5 2354.75,-741.5 2348.75,-747.5 2342.75,-747.5"/>
<text xml:space="preserve" text-anchor="middle" x="2304" y="-734.95" font-family="Helvetica Neue" font-size="9.00">Main Dashboard</text>
<text xml:space="preserve" text-anchor="middle" x="2304" y="-723.7" font-family="Helvetica Neue" font-size="9.00">(child list + charts</text>
<text xml:space="preserve" text-anchor="middle" x="2304" y="-712.45" font-family="Helvetica Neue" font-size="9.00">+ measurement table)</text>
</g>
<!-- view_loading&#45;&gt;view_dashboard -->
<g id="edge48" class="edge">
<title>view_loading&#45;&gt;view_dashboard</title>
<path fill="none" stroke="#555555" d="M2132.38,-836.32C2144.94,-819.01 2165.26,-794.67 2188.75,-780.62 2201.06,-773.27 2206.64,-777.83 2220,-772.62 2233.63,-767.32 2247.85,-760.32 2260.65,-753.42"/>
<polygon fill="#555555" stroke="#555555" points="2262.17,-756.57 2269.23,-748.67 2258.79,-750.45 2262.17,-756.57"/>
<text xml:space="preserve" text-anchor="middle" x="2218.38" y="-795.35" font-family="Helvetica Neue" font-size="7.00">auth + enableSync</text>
<text xml:space="preserve" text-anchor="middle" x="2218.38" y="-787.1" font-family="Helvetica Neue" font-size="7.00">completed</text>
</g>
<!-- view_loading&#45;&gt;view_dashboard -->
<g id="edge51" class="edge">
<title>view_loading&#45;&gt;view_dashboard</title>
<path fill="none" stroke="#555555" d="M2182.59,-837.43C2211.71,-827.87 2242.3,-816.33 2254,-806.88 2269.98,-793.95 2282.37,-774.49 2290.81,-758.08"/>
<polygon fill="#555555" stroke="#555555" points="2293.9,-759.73 2295.13,-749.2 2287.61,-756.66 2293.9,-759.73"/>
<text xml:space="preserve" text-anchor="middle" x="2300.59" y="-795.35" font-family="Helvetica Neue" font-size="7.00">re&#45;enters after</text>
<text xml:space="preserve" text-anchor="middle" x="2300.59" y="-787.1" font-family="Helvetica Neue" font-size="7.00">auth completes</text>
</g>
<!-- view_welcome&#45;&gt;view_loading -->
<g id="edge50" class="edge">
<title>view_welcome&#45;&gt;view_loading</title>
<path fill="none" stroke="#555555" d="M2000.58,-588.21C1999.66,-611.15 2001.53,-651.76 2023,-676.75 2043.33,-700.41 2068.74,-676.91 2089,-700.62 2118.61,-735.29 2122.48,-790.25 2121.51,-824.78"/>
<polygon fill="#555555" stroke="#555555" points="2118.02,-824.42 2121.06,-834.56 2125.01,-824.73 2118.02,-824.42"/>
<text xml:space="preserve" text-anchor="middle" x="2155.48" y="-728.6" font-family="Helvetica Neue" font-size="7.00">Continue as Guest</text>
<text xml:space="preserve" text-anchor="middle" x="2155.48" y="-720.35" font-family="Helvetica Neue" font-size="7.00">or Sign In → auth starts</text>
</g>
<!-- view_dashboard&#45;&gt;view_welcome -->
<g id="edge52" class="edge">
<title>view_dashboard&#45;&gt;view_welcome</title>
<path fill="none" stroke="#555555" d="M2252.76,-709.17C2242.01,-706.05 2230.69,-703.03 2220,-700.62 2151.89,-685.33 2122.61,-715.82 2064.75,-676.75 2037.41,-658.29 2020.21,-623.58 2010.87,-598.97"/>
<polygon fill="#555555" stroke="#555555" points="2014.18,-597.82 2007.53,-589.57 2007.58,-600.16 2014.18,-597.82"/>
<text xml:space="preserve" text-anchor="middle" x="2112.38" y="-661.85" font-family="Helvetica Neue" font-size="7.00">Sign Out</text>
<text xml:space="preserve" text-anchor="middle" x="2112.38" y="-653.6" font-family="Helvetica Neue" font-size="7.00">→ resetStore() + disableSync()</text>
</g>
<!-- modal_auth_signin -->
<g id="node27" class="node">
<title>modal_auth_signin</title>
<path fill="#e2d5f1" stroke="black" d="M3003.75,-596.5C3003.75,-596.5 2938.25,-596.5 2938.25,-596.5 2932.25,-596.5 2926.25,-590.5 2926.25,-584.5 2926.25,-584.5 2926.25,-555.5 2926.25,-555.5 2926.25,-549.5 2932.25,-543.5 2938.25,-543.5 2938.25,-543.5 3003.75,-543.5 3003.75,-543.5 3009.75,-543.5 3015.75,-549.5 3015.75,-555.5 3015.75,-555.5 3015.75,-584.5 3015.75,-584.5 3015.75,-590.5 3009.75,-596.5 3003.75,-596.5"/>
<text xml:space="preserve" text-anchor="middle" x="2971" y="-583.95" font-family="Helvetica Neue" font-size="9.00">Auth Modal</text>
<text xml:space="preserve" text-anchor="middle" x="2971" y="-572.7" font-family="Helvetica Neue" font-size="9.00">mode = signIn</text>
<text xml:space="preserve" text-anchor="middle" x="2971" y="-561.45" font-family="Helvetica Neue" font-size="9.00">(email + magic link</text>
<text xml:space="preserve" text-anchor="middle" x="2971" y="-550.2" font-family="Helvetica Neue" font-size="9.00">or password)</text>
</g>
<!-- view_dashboard&#45;&gt;modal_auth_signin -->
<g id="edge53" class="edge">
<title>view_dashboard&#45;&gt;modal_auth_signin</title>
<path fill="none" stroke="#555555" d="M2355.02,-725.81C2504.42,-725.82 2933.05,-721.87 2975,-676.75 2991.8,-658.68 2989.87,-630.46 2984.24,-607.72"/>
<polygon fill="#555555" stroke="#555555" points="2987.64,-606.87 2981.56,-598.19 2980.9,-608.77 2987.64,-606.87"/>
<text xml:space="preserve" text-anchor="middle" x="3023.26" y="-661.48" font-family="Helvetica Neue" font-size="7.00">UserMenu: Sign In</text>
<text xml:space="preserve" text-anchor="middle" x="3023.26" y="-653.23" font-family="Helvetica Neue" font-size="7.00">(anonymous or unauth)</text>
</g>
<!-- modal_auth_claim -->
<g id="node28" class="node">
<title>modal_auth_claim</title>
<path fill="#e2d5f1" stroke="black" d="M2871.5,-596.5C2871.5,-596.5 2792.5,-596.5 2792.5,-596.5 2786.5,-596.5 2780.5,-590.5 2780.5,-584.5 2780.5,-584.5 2780.5,-555.5 2780.5,-555.5 2780.5,-549.5 2786.5,-543.5 2792.5,-543.5 2792.5,-543.5 2871.5,-543.5 2871.5,-543.5 2877.5,-543.5 2883.5,-549.5 2883.5,-555.5 2883.5,-555.5 2883.5,-584.5 2883.5,-584.5 2883.5,-590.5 2877.5,-596.5 2871.5,-596.5"/>
<text xml:space="preserve" text-anchor="middle" x="2832" y="-583.95" font-family="Helvetica Neue" font-size="9.00">Auth Modal</text>
<text xml:space="preserve" text-anchor="middle" x="2832" y="-572.7" font-family="Helvetica Neue" font-size="9.00">mode = claimAccount</text>
<text xml:space="preserve" text-anchor="middle" x="2832" y="-561.45" font-family="Helvetica Neue" font-size="9.00">(link email to guest</text>
<text xml:space="preserve" text-anchor="middle" x="2832" y="-550.2" font-family="Helvetica Neue" font-size="9.00">± password)</text>
</g>
<!-- view_dashboard&#45;&gt;modal_auth_claim -->
<g id="edge54" class="edge">
<title>view_dashboard&#45;&gt;modal_auth_claim</title>
<path fill="none" stroke="#555555" d="M2355.01,-725.11C2488.66,-723.25 2841.12,-714.74 2876,-676.75 2894.32,-656.8 2880.68,-628.13 2863.91,-605.68"/>
<polygon fill="#555555" stroke="#555555" points="2866.77,-603.65 2857.82,-597.98 2861.28,-607.99 2866.77,-603.65"/>
<text xml:space="preserve" text-anchor="middle" x="2924.86" y="-661.48" font-family="Helvetica Neue" font-size="7.00">UserMenu: Save Account</text>
<text xml:space="preserve" text-anchor="middle" x="2924.86" y="-653.23" font-family="Helvetica Neue" font-size="7.00">or OnboardingBanner</text>
</g>
<!-- modal_auth_setpw -->
<g id="node29" class="node">
<title>modal_auth_setpw</title>
<path fill="#e2d5f1" stroke="black" d="M2470,-596.5C2470,-596.5 2394,-596.5 2394,-596.5 2388,-596.5 2382,-590.5 2382,-584.5 2382,-584.5 2382,-555.5 2382,-555.5 2382,-549.5 2388,-543.5 2394,-543.5 2394,-543.5 2470,-543.5 2470,-543.5 2476,-543.5 2482,-549.5 2482,-555.5 2482,-555.5 2482,-584.5 2482,-584.5 2482,-590.5 2476,-596.5 2470,-596.5"/>
<text xml:space="preserve" text-anchor="middle" x="2432" y="-583.95" font-family="Helvetica Neue" font-size="9.00">Auth Modal</text>
<text xml:space="preserve" text-anchor="middle" x="2432" y="-572.7" font-family="Helvetica Neue" font-size="9.00">mode = setPassword</text>
<text xml:space="preserve" text-anchor="middle" x="2432" y="-561.45" font-family="Helvetica Neue" font-size="9.00">(set or change</text>
<text xml:space="preserve" text-anchor="middle" x="2432" y="-550.2" font-family="Helvetica Neue" font-size="9.00">password)</text>
</g>
<!-- view_dashboard&#45;&gt;modal_auth_setpw -->
<g id="edge55" class="edge">
<title>view_dashboard&#45;&gt;modal_auth_setpw</title>
<path fill="none" stroke="#555555" d="M2252.84,-708.92C2219.82,-697.63 2182.18,-683.57 2177.5,-676.75 2169.02,-664.38 2167.11,-653.82 2177.5,-643 2192.56,-627.32 2353.27,-644.13 2373,-635 2386.85,-628.59 2398.96,-617.28 2408.54,-605.92"/>
<polygon fill="#555555" stroke="#555555" points="2411.27,-608.11 2414.73,-598.09 2405.78,-603.77 2411.27,-608.11"/>
<text xml:space="preserve" text-anchor="middle" x="2214.25" y="-661.48" font-family="Helvetica Neue" font-size="7.00">UserMenu: Set/Change</text>
<text xml:space="preserve" text-anchor="middle" x="2214.25" y="-653.23" font-family="Helvetica Neue" font-size="7.00">Password</text>
</g>
<!-- modal_share -->
<g id="node30" class="node">
<title>modal_share</title>
<path fill="#d5e8f1" stroke="black" d="M2607,-590.88C2607,-590.88 2537,-590.88 2537,-590.88 2531,-590.88 2525,-584.88 2525,-578.88 2525,-578.88 2525,-561.12 2525,-561.12 2525,-555.12 2531,-549.12 2537,-549.12 2537,-549.12 2607,-549.12 2607,-549.12 2613,-549.12 2619,-555.12 2619,-561.12 2619,-561.12 2619,-578.88 2619,-578.88 2619,-584.88 2613,-590.88 2607,-590.88"/>
<text xml:space="preserve" text-anchor="middle" x="2572" y="-578.33" font-family="Helvetica Neue" font-size="9.00">Share Modal</text>
<text xml:space="preserve" text-anchor="middle" x="2572" y="-567.08" font-family="Helvetica Neue" font-size="9.00">(create/copy/revoke</text>
<text xml:space="preserve" text-anchor="middle" x="2572" y="-555.83" font-family="Helvetica Neue" font-size="9.00">share links)</text>
</g>
<!-- view_dashboard&#45;&gt;modal_share -->
<g id="edge56" class="edge">
<title>view_dashboard&#45;&gt;modal_share</title>
<path fill="none" stroke="#555555" d="M2331.8,-705.42C2343.65,-696.7 2357.58,-686.33 2370,-676.75 2388.96,-662.12 2389.78,-651.92 2412,-643 2450.09,-627.71 2466.54,-651.77 2504,-635 2521.6,-627.12 2537.53,-612.75 2549.53,-599.61"/>
<polygon fill="#555555" stroke="#555555" points="2551.9,-602.22 2555.84,-592.39 2546.63,-597.62 2551.9,-602.22"/>
<text xml:space="preserve" text-anchor="middle" x="2451" y="-665.6" font-family="Helvetica Neue" font-size="7.00">Share button</text>
<text xml:space="preserve" text-anchor="middle" x="2451" y="-657.35" font-family="Helvetica Neue" font-size="7.00">(own, synced, non&#45;anon,</text>
<text xml:space="preserve" text-anchor="middle" x="2451" y="-649.1" font-family="Helvetica Neue" font-size="7.00">non&#45;example)</text>
</g>
<!-- modal_confirm_del -->
<g id="node31" class="node">
<title>modal_confirm_del</title>
<path fill="#f8d7da" stroke="black" d="M2725.62,-588C2725.62,-588 2674.38,-588 2674.38,-588 2668.38,-588 2662.38,-582 2662.38,-576 2662.38,-576 2662.38,-564 2662.38,-564 2662.38,-558 2668.38,-552 2674.38,-552 2674.38,-552 2725.62,-552 2725.62,-552 2731.62,-552 2737.62,-558 2737.62,-564 2737.62,-564 2737.62,-576 2737.62,-576 2737.62,-582 2731.62,-588 2725.62,-588"/>
<text xml:space="preserve" text-anchor="middle" x="2700" y="-572.7" font-family="Helvetica Neue" font-size="9.00">Confirm Delete</text>
<text xml:space="preserve" text-anchor="middle" x="2700" y="-561.45" font-family="Helvetica Neue" font-size="9.00">Modal</text>
</g>
<!-- view_dashboard&#45;&gt;modal_confirm_del -->
<g id="edge58" class="edge">
<title>view_dashboard&#45;&gt;modal_confirm_del</title>
<path fill="none" stroke="#555555" d="M2354.83,-722.21C2407.3,-717.24 2490.61,-705.25 2557,-676.75 2580.71,-666.57 2580.66,-653.46 2604.25,-643 2619.53,-636.23 2626.5,-643.31 2641,-635 2657.04,-625.81 2671.22,-610.79 2681.66,-597.61"/>
<polygon fill="#555555" stroke="#555555" points="2684.43,-599.75 2687.66,-589.66 2678.84,-595.54 2684.43,-599.75"/>
<text xml:space="preserve" text-anchor="middle" x="2625.62" y="-661.48" font-family="Helvetica Neue" font-size="7.00">Delete button</text>
<text xml:space="preserve" text-anchor="middle" x="2625.62" y="-653.23" font-family="Helvetica Neue" font-size="7.00">on child tile</text>
</g>
<!-- modal_share_info -->
<g id="node32" class="node">
<title>modal_share_info</title>
<path fill="#fff3cd" stroke="black" d="M3130.75,-590.88C3130.75,-590.88 3071.25,-590.88 3071.25,-590.88 3065.25,-590.88 3059.25,-584.88 3059.25,-578.88 3059.25,-578.88 3059.25,-561.12 3059.25,-561.12 3059.25,-555.12 3065.25,-549.12 3071.25,-549.12 3071.25,-549.12 3130.75,-549.12 3130.75,-549.12 3136.75,-549.12 3142.75,-555.12 3142.75,-561.12 3142.75,-561.12 3142.75,-578.88 3142.75,-578.88 3142.75,-584.88 3136.75,-590.88 3130.75,-590.88"/>
<text xml:space="preserve" text-anchor="middle" x="3101" y="-578.33" font-family="Helvetica Neue" font-size="9.00">Share Info</text>
<text xml:space="preserve" text-anchor="middle" x="3101" y="-567.08" font-family="Helvetica Neue" font-size="9.00">Message</text>
<text xml:space="preserve" text-anchor="middle" x="3101" y="-555.83" font-family="Helvetica Neue" font-size="9.00">(disabled reason)</text>
</g>
<!-- view_dashboard&#45;&gt;modal_share_info -->
<g id="edge57" class="edge">
<title>view_dashboard&#45;&gt;modal_share_info</title>
<path fill="none" stroke="#555555" d="M2355.1,-724.97C2550.24,-722.23 3239.2,-710.19 3271,-676.75 3312.88,-632.7 3218.21,-599.48 3154,-582.85"/>
<polygon fill="#555555" stroke="#555555" points="3155.22,-579.55 3144.67,-580.51 3153.51,-586.34 3155.22,-579.55"/>
<text xml:space="preserve" text-anchor="middle" x="3321.46" y="-665.6" font-family="Helvetica Neue" font-size="7.00">Share button</text>
<text xml:space="preserve" text-anchor="middle" x="3321.46" y="-657.35" font-family="Helvetica Neue" font-size="7.00">(disabled: guest/no child/</text>
<text xml:space="preserve" text-anchor="middle" x="3321.46" y="-649.1" font-family="Helvetica Neue" font-size="7.00">already shared)</text>
</g>
<!-- view_onboard -->
<g id="node26" class="node">
<title>view_onboard</title>
<path fill="#d4edda" stroke="black" stroke-dasharray="5,2" d="M2342.62,-878.32C2342.62,-878.32 2237.38,-878.32 2237.38,-878.32 2231.38,-878.32 2225.38,-872.32 2225.38,-866.32 2225.38,-866.32 2225.38,-848.57 2225.38,-848.57 2225.38,-842.57 2231.38,-836.57 2237.38,-836.57 2237.38,-836.57 2342.62,-836.57 2342.62,-836.57 2348.62,-836.57 2354.62,-842.57 2354.62,-848.57 2354.62,-848.57 2354.62,-866.32 2354.62,-866.32 2354.62,-872.32 2348.62,-878.32 2342.62,-878.32"/>
<text xml:space="preserve" text-anchor="middle" x="2290" y="-865.77" font-family="Helvetica Neue" font-size="9.00">Onboarding Banner</text>
<text xml:space="preserve" text-anchor="middle" x="2290" y="-854.52" font-family="Helvetica Neue" font-size="9.00">(shown to anonymous users</text>
<text xml:space="preserve" text-anchor="middle" x="2290" y="-843.27" font-family="Helvetica Neue" font-size="9.00">on dashboard)</text>
</g>
<!-- modal_auth_signin&#45;&gt;view_dashboard -->
<g id="edge59" class="edge">
<title>modal_auth_signin&#45;&gt;view_dashboard</title>
<path fill="none" stroke="#555555" d="M2992.17,-596.77C3004.3,-609.99 3020.57,-625.31 3038,-635 3050.44,-641.92 3060.29,-631.75 3069,-643 3078.19,-654.86 3079.26,-665.81 3069,-676.75 3045.07,-702.26 2544.4,-718.84 2366.25,-723.94"/>
<polygon fill="#555555" stroke="#555555" points="2366.4,-720.44 2356.5,-724.22 2366.6,-727.44 2366.4,-720.44"/>
<text xml:space="preserve" text-anchor="middle" x="3120.55" y="-661.85" font-family="Helvetica Neue" font-size="7.00">Close / signInWithPassword</text>
<text xml:space="preserve" text-anchor="middle" x="3120.55" y="-653.6" font-family="Helvetica Neue" font-size="7.00">success → handleSignedIn()</text>
</g>
<!-- modal_auth_signin&#45;&gt;view_dashboard -->
<g id="edge60" class="edge">
<title>modal_auth_signin&#45;&gt;view_dashboard</title>
<path fill="none" stroke="#555555" d="M2990.34,-596.84C3002.37,-610.78 3019.12,-626.78 3038,-635 3051.98,-641.08 3164.54,-631.91 3175,-643 3185.29,-653.91 3185.31,-665.85 3175,-676.75 3147.26,-706.09 2561.25,-720.46 2366.38,-724.45"/>
<polygon fill="#555555" stroke="#555555" points="2366.38,-720.95 2356.45,-724.65 2366.52,-727.94 2366.38,-720.95"/>
<text xml:space="preserve" text-anchor="middle" x="3221.72" y="-670.1" font-family="Helvetica Neue" font-size="7.00">signInWithEmail success</text>
<text xml:space="preserve" text-anchor="middle" x="3221.72" y="-661.85" font-family="Helvetica Neue" font-size="7.00">→ email sent → close</text>
<text xml:space="preserve" text-anchor="middle" x="3221.72" y="-652.85" font-family="Helvetica Neue" font-size="7.00">(session updates on</text>
<text xml:space="preserve" text-anchor="middle" x="3221.72" y="-644.6" font-family="Helvetica Neue" font-size="7.00">link confirm)</text>
</g>
<!-- modal_auth_claim&#45;&gt;view_dashboard -->
<g id="edge61" class="edge">
<title>modal_auth_claim&#45;&gt;view_dashboard</title>
<path fill="none" stroke="#555555" d="M2819.04,-596.81C2804.98,-621.84 2780.04,-658.62 2747,-676.75 2683,-711.86 2472.7,-721.77 2366.52,-724.55"/>
<polygon fill="#555555" stroke="#555555" points="2366.45,-721.05 2356.54,-724.79 2366.63,-728.05 2366.45,-721.05"/>
<text xml:space="preserve" text-anchor="middle" x="2821.16" y="-665.98" font-family="Helvetica Neue" font-size="7.00">Close / linkWithEmail</text>
<text xml:space="preserve" text-anchor="middle" x="2821.16" y="-657.73" font-family="Helvetica Neue" font-size="7.00">or linkWithPassword</text>
<text xml:space="preserve" text-anchor="middle" x="2821.16" y="-649.48" font-family="Helvetica Neue" font-size="7.00">success → email sent</text>
</g>
<!-- modal_auth_setpw&#45;&gt;view_dashboard -->
<g id="edge62" class="edge">
<title>modal_auth_setpw&#45;&gt;view_dashboard</title>
<path fill="none" stroke="#555555" d="M2415.21,-596.8C2404.79,-610.55 2390.14,-626.36 2373,-635 2358.18,-642.47 2309.84,-630.65 2298.75,-643 2286.46,-656.69 2287.77,-677.33 2292.15,-694.57"/>
<polygon fill="#555555" stroke="#555555" points="2288.71,-695.26 2294.93,-703.84 2295.41,-693.26 2288.71,-695.26"/>
<text xml:space="preserve" text-anchor="middle" x="2331.38" y="-661.48" font-family="Helvetica Neue" font-size="7.00">Close / setPassword</text>
<text xml:space="preserve" text-anchor="middle" x="2331.38" y="-653.23" font-family="Helvetica Neue" font-size="7.00">success</text>
</g>
<!-- modal_share&#45;&gt;view_dashboard -->
<g id="edge63" class="edge">
<title>modal_share&#45;&gt;view_dashboard</title>
<path fill="none" stroke="#555555" d="M2562.99,-591.03C2551.12,-615.1 2527.94,-654.97 2496,-676.75 2457.64,-702.91 2406.35,-715.07 2366.43,-720.72"/>
<polygon fill="#555555" stroke="#555555" points="2366.19,-717.22 2356.73,-721.99 2367.1,-724.16 2366.19,-717.22"/>
<text xml:space="preserve" text-anchor="middle" x="2538.17" y="-657.35" font-family="Helvetica Neue" font-size="7.00">Close</text>
</g>
<!-- modal_confirm_del&#45;&gt;view_dashboard -->
<g id="edge64" class="edge">
<title>modal_confirm_del&#45;&gt;view_dashboard</title>
<path fill="none" stroke="#555555" d="M2697.52,-588.47C2693.13,-612.51 2681.56,-655.23 2653,-676.75 2609.05,-709.88 2454.49,-720.58 2366.5,-724.02"/>
<polygon fill="#555555" stroke="#555555" points="2366.45,-720.52 2356.58,-724.38 2366.7,-727.51 2366.45,-720.52"/>
<text xml:space="preserve" text-anchor="middle" x="2708.38" y="-661.85" font-family="Helvetica Neue" font-size="7.00">Cancel or Confirm</text>
<text xml:space="preserve" text-anchor="middle" x="2708.38" y="-653.6" font-family="Helvetica Neue" font-size="7.00">→ removeChild()</text>
</g>
<!-- modal_share_info&#45;&gt;view_dashboard -->
<g id="edge65" class="edge">
<title>modal_share_info&#45;&gt;view_dashboard</title>
<path fill="none" stroke="#555555" d="M3143.21,-573.41C3235.58,-580.08 3442.03,-603.44 3372,-676.75 3337.13,-713.26 2589.86,-723.01 2366.51,-725.12"/>
<polygon fill="#555555" stroke="#555555" points="2366.51,-721.62 2356.54,-725.21 2366.57,-728.62 2366.51,-721.62"/>
<text xml:space="preserve" text-anchor="middle" x="3418" y="-657.35" font-family="Helvetica Neue" font-size="7.00">OK / click backdrop</text>
</g>
<!-- so_trigger -->
<g id="node33" class="node">
<title>so_trigger</title>
<ellipse fill="#f8d7da" stroke="black" cx="3701" cy="-857.44" rx="42.07" ry="21.57"/>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-860.14" font-family="Helvetica Neue" font-size="9.00">User clicks</text>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-848.89" font-family="Helvetica Neue" font-size="9.00">Sign Out</text>
</g>
<!-- so_api -->
<g id="node34" class="node">
<title>so_api</title>
<path fill="#fff3cd" stroke="black" d="M3725.12,-744.62C3725.12,-744.62 3676.88,-744.62 3676.88,-744.62 3670.88,-744.62 3664.88,-738.62 3664.88,-732.62 3664.88,-732.62 3664.88,-720.62 3664.88,-720.62 3664.88,-714.62 3670.88,-708.62 3676.88,-708.62 3676.88,-708.62 3725.12,-708.62 3725.12,-708.62 3731.12,-708.62 3737.12,-714.62 3737.12,-720.62 3737.12,-720.62 3737.12,-732.62 3737.12,-732.62 3737.12,-738.62 3731.12,-744.62 3725.12,-744.62"/>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-729.33" font-family="Helvetica Neue" font-size="9.00">signOut()</text>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-718.08" font-family="Helvetica Neue" font-size="9.00">Supabase API</text>
</g>
<!-- so_trigger&#45;&gt;so_api -->
<g id="edge66" class="edge">
<title>so_trigger&#45;&gt;so_api</title>
<path fill="none" stroke="#555555" d="M3701,-835.46C3701,-813.87 3701,-780.09 3701,-756.1"/>
<polygon fill="#555555" stroke="#555555" points="3704.5,-756.4 3701,-746.4 3697.5,-756.4 3704.5,-756.4"/>
</g>
<!-- so_reset -->
<g id="node35" class="node">
<title>so_reset</title>
<path fill="#fff3cd" stroke="black" d="M3749.12,-607.75C3749.12,-607.75 3652.88,-607.75 3652.88,-607.75 3646.88,-607.75 3640.88,-601.75 3640.88,-595.75 3640.88,-595.75 3640.88,-544.25 3640.88,-544.25 3640.88,-538.25 3646.88,-532.25 3652.88,-532.25 3652.88,-532.25 3749.12,-532.25 3749.12,-532.25 3755.12,-532.25 3761.12,-538.25 3761.12,-544.25 3761.12,-544.25 3761.12,-595.75 3761.12,-595.75 3761.12,-601.75 3755.12,-607.75 3749.12,-607.75"/>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-595.2" font-family="Helvetica Neue" font-size="9.00">resetStore()</text>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-583.95" font-family="Helvetica Neue" font-size="9.00">• childStore → initial</text>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-572.7" font-family="Helvetica Neue" font-size="9.00">• dataLoading → true</text>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-561.45" font-family="Helvetica Neue" font-size="9.00">• exampleChildId → null</text>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-550.2" font-family="Helvetica Neue" font-size="9.00">• sharedChildIds → empty</text>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-538.95" font-family="Helvetica Neue" font-size="9.00">• pendingChildIds → clear</text>
</g>
<!-- so_api&#45;&gt;so_reset -->
<g id="edge67" class="edge">
<title>so_api&#45;&gt;so_reset</title>
<path fill="none" stroke="#555555" d="M3701,-708.19C3701,-686.76 3701,-649.51 3701,-619.23"/>
<polygon fill="#555555" stroke="#555555" points="3704.5,-619.53 3701,-609.53 3697.5,-619.53 3704.5,-619.53"/>
</g>
<!-- so_disable -->
<g id="node36" class="node">
<title>so_disable</title>
<path fill="#fff3cd" stroke="black" d="M3736.75,-445.88C3736.75,-445.88 3665.25,-445.88 3665.25,-445.88 3659.25,-445.88 3653.25,-439.88 3653.25,-433.88 3653.25,-433.88 3653.25,-421.88 3653.25,-421.88 3653.25,-415.88 3659.25,-409.88 3665.25,-409.88 3665.25,-409.88 3736.75,-409.88 3736.75,-409.88 3742.75,-409.88 3748.75,-415.88 3748.75,-421.88 3748.75,-421.88 3748.75,-433.88 3748.75,-433.88 3748.75,-439.88 3742.75,-445.88 3736.75,-445.88"/>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-430.57" font-family="Helvetica Neue" font-size="9.00">disableSync()</text>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-419.32" font-family="Helvetica Neue" font-size="9.00">syncEnabled = false</text>
</g>
<!-- so_reset&#45;&gt;so_disable -->
<g id="edge68" class="edge">
<title>so_reset&#45;&gt;so_disable</title>
<path fill="none" stroke="#555555" d="M3701,-531.82C3701,-508.53 3701,-478.97 3701,-457.51"/>
<polygon fill="#555555" stroke="#555555" points="3704.5,-457.73 3701,-447.73 3697.5,-457.73 3704.5,-457.73"/>
</g>
<!-- so_welcome -->
<g id="node37" class="node">
<title>so_welcome</title>
<path fill="#d4edda" stroke="black" d="M3739,-315.25C3739,-315.25 3663,-315.25 3663,-315.25 3657,-315.25 3651,-309.25 3651,-303.25 3651,-303.25 3651,-291.25 3651,-291.25 3651,-285.25 3657,-279.25 3663,-279.25 3663,-279.25 3739,-279.25 3739,-279.25 3745,-279.25 3751,-285.25 3751,-291.25 3751,-291.25 3751,-303.25 3751,-303.25 3751,-309.25 3745,-315.25 3739,-315.25"/>
<text xml:space="preserve" text-anchor="middle" x="3701" y="-294.32" font-family="Helvetica Neue" font-size="9.00">showWelcome = true</text>
</g>
<!-- so_disable&#45;&gt;so_welcome -->
<g id="edge69" class="edge">
<title>so_disable&#45;&gt;so_welcome</title>
<path fill="none" stroke="#555555" d="M3701,-409.53C3701,-388.43 3701,-352.51 3701,-327.2"/>
<polygon fill="#555555" stroke="#555555" points="3704.5,-327.25 3701,-317.25 3697.5,-327.25 3704.5,-327.25"/>
</g>
<!-- claim_start -->
<g id="node38" class="node">
<title>claim_start</title>
<ellipse fill="#d1ecf1" stroke="black" cx="3903" cy="-857.44" rx="68.06" ry="21.57"/>
<text xml:space="preserve" text-anchor="middle" x="3903" y="-860.14" font-family="Helvetica Neue" font-size="9.00">Anonymous user</text>
<text xml:space="preserve" text-anchor="middle" x="3903" y="-848.89" font-family="Helvetica Neue" font-size="9.00">clicks Save Account</text>
</g>
<!-- claim_modal -->
<g id="node39" class="node">
<title>claim_modal</title>
<path fill="#e2d5f1" stroke="black" d="M3942.5,-744.62C3942.5,-744.62 3863.5,-744.62 3863.5,-744.62 3857.5,-744.62 3851.5,-738.62 3851.5,-732.62 3851.5,-732.62 3851.5,-720.62 3851.5,-720.62 3851.5,-714.62 3857.5,-708.62 3863.5,-708.62 3863.5,-708.62 3942.5,-708.62 3942.5,-708.62 3948.5,-708.62 3954.5,-714.62 3954.5,-720.62 3954.5,-720.62 3954.5,-732.62 3954.5,-732.62 3954.5,-738.62 3948.5,-744.62 3942.5,-744.62"/>
<text xml:space="preserve" text-anchor="middle" x="3903" y="-729.33" font-family="Helvetica Neue" font-size="9.00">Auth Modal</text>
<text xml:space="preserve" text-anchor="middle" x="3903" y="-718.08" font-family="Helvetica Neue" font-size="9.00">mode = claimAccount</text>
</g>
<!-- claim_start&#45;&gt;claim_modal -->
<g id="edge70" class="edge">
<title>claim_start&#45;&gt;claim_modal</title>
<path fill="none" stroke="#555555" d="M3903,-835.46C3903,-813.87 3903,-780.09 3903,-756.1"/>
<polygon fill="#555555" stroke="#555555" points="3906.5,-756.4 3903,-746.4 3899.5,-756.4 3906.5,-756.4"/>
</g>
<!-- claim_method -->
<g id="node40" class="node">
<title>claim_method</title>
<path fill="white" stroke="black" d="M3891.36,-585.08C3891.36,-585.08 3842.89,-572.92 3842.89,-572.92 3837.07,-571.46 3837.07,-568.54 3842.89,-567.08 3842.89,-567.08 3891.36,-554.92 3891.36,-554.92 3897.18,-553.46 3908.82,-553.46 3914.64,-554.92 3914.64,-554.92 3963.11,-567.08 3963.11,-567.08 3968.93,-568.54 3968.93,-571.46 3963.11,-572.92 3963.11,-572.92 3914.64,-585.08 3914.64,-585.08 3908.82,-586.54 3897.18,-586.54 3891.36,-585.08"/>
<text xml:space="preserve" text-anchor="middle" x="3903" y="-567.08" font-family="Helvetica Neue" font-size="9.00">Choose method?</text>
</g>
<!-- claim_modal&#45;&gt;claim_method -->
<g id="edge71" class="edge">
<title>claim_modal&#45;&gt;claim_method</title>
<path fill="none" stroke="#555555" d="M3903,-708.19C3903,-681.72 3903,-631.11 3903,-599.31"/>
<polygon fill="#555555" stroke="#555555" points="3906.5,-599.65 3903,-589.65 3899.5,-599.65 3906.5,-599.65"/>
</g>
<!-- claim_magic -->
<g id="node41" class="node">
<title>claim_magic</title>
<path fill="#fff3cd" stroke="black" d="M3890.62,-445.88C3890.62,-445.88 3809.38,-445.88 3809.38,-445.88 3803.38,-445.88 3797.38,-439.88 3797.38,-433.88 3797.38,-433.88 3797.38,-421.88 3797.38,-421.88 3797.38,-415.88 3803.38,-409.88 3809.38,-409.88 3809.38,-409.88 3890.62,-409.88 3890.62,-409.88 3896.62,-409.88 3902.62,-415.88 3902.62,-421.88 3902.62,-421.88 3902.62,-433.88 3902.62,-433.88 3902.62,-439.88 3896.62,-445.88 3890.62,-445.88"/>
<text xml:space="preserve" text-anchor="middle" x="3850" y="-430.57" font-family="Helvetica Neue" font-size="9.00">linkWithEmail(email)</text>
<text xml:space="preserve" text-anchor="middle" x="3850" y="-419.32" font-family="Helvetica Neue" font-size="9.00">→ updateUser({email})</text>
</g>
<!-- claim_method&#45;&gt;claim_magic -->
<g id="edge72" class="edge">
<title>claim_method&#45;&gt;claim_magic</title>
<path fill="none" stroke="#555555" d="M3897.02,-553.2C3888.18,-529.82 3871.48,-485.67 3860.55,-456.77"/>
<polygon fill="#555555" stroke="#555555" points="3863.88,-455.68 3857.07,-447.56 3857.33,-458.16 3863.88,-455.68"/>
<text xml:space="preserve" text-anchor="middle" x="3893.84" y="-487.98" font-family="Helvetica Neue" font-size="7.00">magic link</text>
</g>
<!-- claim_password -->
<g id="node42" class="node">
<title>claim_password</title>
<path fill="#fff3cd" stroke="black" d="M4064.38,-445.88C4064.38,-445.88 3957.62,-445.88 3957.62,-445.88 3951.62,-445.88 3945.62,-439.88 3945.62,-433.88 3945.62,-433.88 3945.62,-421.88 3945.62,-421.88 3945.62,-415.88 3951.62,-409.88 3957.62,-409.88 3957.62,-409.88 4064.38,-409.88 4064.38,-409.88 4070.38,-409.88 4076.38,-415.88 4076.38,-421.88 4076.38,-421.88 4076.38,-433.88 4076.38,-433.88 4076.38,-439.88 4070.38,-445.88 4064.38,-445.88"/>
<text xml:space="preserve" text-anchor="middle" x="4011" y="-430.57" font-family="Helvetica Neue" font-size="9.00">linkWithPassword(email, pw)</text>
<text xml:space="preserve" text-anchor="middle" x="4011" y="-419.32" font-family="Helvetica Neue" font-size="9.00">→ updateUser({email, pw})</text>
</g>
<!-- claim_method&#45;&gt;claim_password -->
<g id="edge73" class="edge">
<title>claim_method&#45;&gt;claim_password</title>
<path fill="none" stroke="#555555" d="M3914.15,-554.53C3932.24,-531.06 3968.24,-484.35 3990.89,-454.97"/>
<polygon fill="#555555" stroke="#555555" points="3993.48,-457.34 3996.81,-447.29 3987.93,-453.07 3993.48,-457.34"/>
<text xml:space="preserve" text-anchor="middle" x="4001.11" y="-487.98" font-family="Helvetica Neue" font-size="7.00">email + password</text>
</g>
<!-- claim_confirm -->
<g id="node43" class="node">
<title>claim_confirm</title>
<path fill="#d4edda" stroke="black" d="M3963,-315.25C3963,-315.25 3899,-315.25 3899,-315.25 3893,-315.25 3887,-309.25 3887,-303.25 3887,-303.25 3887,-291.25 3887,-291.25 3887,-285.25 3893,-279.25 3899,-279.25 3899,-279.25 3963,-279.25 3963,-279.25 3969,-279.25 3975,-285.25 3975,-291.25 3975,-291.25 3975,-303.25 3975,-303.25 3975,-309.25 3969,-315.25 3963,-315.25"/>
<text xml:space="preserve" text-anchor="middle" x="3931" y="-299.95" font-family="Helvetica Neue" font-size="9.00">Email sent</text>
<text xml:space="preserve" text-anchor="middle" x="3931" y="-288.7" font-family="Helvetica Neue" font-size="9.00">User confirms link</text>
</g>
<!-- claim_magic&#45;&gt;claim_confirm -->
<g id="edge74" class="edge">
<title>claim_magic&#45;&gt;claim_confirm</title>
<path fill="none" stroke="#555555" d="M3860.92,-409.53C3874.57,-387.86 3898.07,-350.54 3914.06,-325.15"/>
<polygon fill="#555555" stroke="#555555" points="3916.82,-327.34 3919.18,-317.01 3910.89,-323.61 3916.82,-327.34"/>
</g>
<!-- claim_password&#45;&gt;claim_confirm -->
<g id="edge75" class="edge">
<title>claim_password&#45;&gt;claim_confirm</title>
<path fill="none" stroke="#555555" d="M4000.21,-409.53C3986.79,-387.95 3963.73,-350.87 3947.94,-325.49"/>
<polygon fill="#555555" stroke="#555555" points="3950.93,-323.66 3942.67,-317.02 3944.98,-327.36 3950.93,-323.66"/>
</g>
<!-- claim_done -->
<g id="node44" class="node">
<title>claim_done</title>
<path fill="#b8daff" stroke="black" d="M3970.88,-185.25C3970.88,-185.25 3891.12,-185.25 3891.12,-185.25 3885.12,-185.25 3879.12,-179.25 3879.12,-173.25 3879.12,-173.25 3879.12,-144.25 3879.12,-144.25 3879.12,-138.25 3885.12,-132.25 3891.12,-132.25 3891.12,-132.25 3970.88,-132.25 3970.88,-132.25 3976.88,-132.25 3982.88,-138.25 3982.88,-144.25 3982.88,-144.25 3982.88,-173.25 3982.88,-173.25 3982.88,-179.25 3976.88,-185.25 3970.88,-185.25"/>
<text xml:space="preserve" text-anchor="middle" x="3931" y="-172.7" font-family="Helvetica Neue" font-size="9.00">Account upgraded!</text>
<text xml:space="preserve" text-anchor="middle" x="3931" y="-161.45" font-family="Helvetica Neue" font-size="9.00">same user_id</text>
<text xml:space="preserve" text-anchor="middle" x="3931" y="-150.2" font-family="Helvetica Neue" font-size="9.00">all data preserved</text>
<text xml:space="preserve" text-anchor="middle" x="3931" y="-138.95" font-family="Helvetica Neue" font-size="9.00">isAnonymous → false</text>
</g>
<!-- claim_confirm&#45;&gt;claim_done -->
<g id="edge76" class="edge">
<title>claim_confirm&#45;&gt;claim_done</title>
<path fill="none" stroke="#555555" d="M3931,-278.96C3931,-258.34 3931,-223.3 3931,-196.52"/>
<polygon fill="#555555" stroke="#555555" points="3934.5,-196.77 3931,-186.77 3927.5,-196.77 3934.5,-196.77"/>
<text xml:space="preserve" text-anchor="middle" x="3968.5" y="-239.1" font-family="Helvetica Neue" font-size="7.00">onAuthStateChange</text>
<text xml:space="preserve" text-anchor="middle" x="3968.5" y="-230.85" font-family="Helvetica Neue" font-size="7.00">USER_UPDATED event</text>
</g>
<!-- leg_solid -->
<g id="node45" class="node">
<title>leg_solid</title>
<path fill="lightgrey" stroke="none" d="M4170,-875.44C4170,-875.44 4112,-875.44 4112,-875.44 4106,-875.44 4100,-869.44 4100,-863.44 4100,-863.44 4100,-851.44 4100,-851.44 4100,-845.44 4106,-839.44 4112,-839.44 4112,-839.44 4170,-839.44 4170,-839.44 4176,-839.44 4182,-845.44 4182,-851.44 4182,-851.44 4182,-863.44 4182,-863.44 4182,-869.44 4176,-875.44 4170,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="4141" y="-860.34" font-family="Helvetica Neue" font-size="8.00">Solid edge</text>
<text xml:space="preserve" text-anchor="middle" x="4141" y="-849.84" font-family="Helvetica Neue" font-size="8.00">= normal transition</text>
</g>
<!-- leg_dashed -->
<g id="node46" class="node">
<title>leg_dashed</title>
<path fill="lightgrey" stroke="none" d="M4307,-875.44C4307,-875.44 4237,-875.44 4237,-875.44 4231,-875.44 4225,-869.44 4225,-863.44 4225,-863.44 4225,-851.44 4225,-851.44 4225,-845.44 4231,-839.44 4237,-839.44 4237,-839.44 4307,-839.44 4307,-839.44 4313,-839.44 4319,-845.44 4319,-851.44 4319,-851.44 4319,-863.44 4319,-863.44 4319,-869.44 4313,-875.44 4307,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="4272" y="-860.34" font-family="Helvetica Neue" font-size="8.00">Dashed red edge</text>
<text xml:space="preserve" text-anchor="middle" x="4272" y="-849.84" font-family="Helvetica Neue" font-size="8.00">= risky/lossy transition</text>
</g>
<!-- leg_dotted -->
<g id="node47" class="node">
<title>leg_dotted</title>
<path fill="lightgrey" stroke="none" d="M4438.38,-875.44C4438.38,-875.44 4373.62,-875.44 4373.62,-875.44 4367.62,-875.44 4361.62,-869.44 4361.62,-863.44 4361.62,-863.44 4361.62,-851.44 4361.62,-851.44 4361.62,-845.44 4367.62,-839.44 4373.62,-839.44 4373.62,-839.44 4438.38,-839.44 4438.38,-839.44 4444.38,-839.44 4450.38,-845.44 4450.38,-851.44 4450.38,-851.44 4450.38,-863.44 4450.38,-863.44 4450.38,-869.44 4444.38,-875.44 4438.38,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="4406" y="-860.34" font-family="Helvetica Neue" font-size="8.00">Dotted gray edge</text>
<text xml:space="preserve" text-anchor="middle" x="4406" y="-849.84" font-family="Helvetica Neue" font-size="8.00">= cross&#45;concern link</text>
</g>
<!-- leg_red -->
<g id="node48" class="node">
<title>leg_red</title>
<path fill="#f8d7da" stroke="black" d="M4572.5,-875.44C4572.5,-875.44 4505.5,-875.44 4505.5,-875.44 4499.5,-875.44 4493.5,-869.44 4493.5,-863.44 4493.5,-863.44 4493.5,-851.44 4493.5,-851.44 4493.5,-845.44 4499.5,-839.44 4505.5,-839.44 4505.5,-839.44 4572.5,-839.44 4572.5,-839.44 4578.5,-839.44 4584.5,-845.44 4584.5,-851.44 4584.5,-851.44 4584.5,-863.44 4584.5,-863.44 4584.5,-869.44 4578.5,-875.44 4572.5,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="4539" y="-860.34" font-family="Helvetica Neue" font-size="8.00">Red fill</text>
<text xml:space="preserve" text-anchor="middle" x="4539" y="-849.84" font-family="Helvetica Neue" font-size="8.00">= blocked/error state</text>
</g>
<!-- leg_green -->
<g id="node49" class="node">
<title>leg_green</title>
<path fill="#d4edda" stroke="black" d="M4706.5,-875.44C4706.5,-875.44 4639.5,-875.44 4639.5,-875.44 4633.5,-875.44 4627.5,-869.44 4627.5,-863.44 4627.5,-863.44 4627.5,-851.44 4627.5,-851.44 4627.5,-845.44 4633.5,-839.44 4639.5,-839.44 4639.5,-839.44 4706.5,-839.44 4706.5,-839.44 4712.5,-839.44 4718.5,-845.44 4718.5,-851.44 4718.5,-851.44 4718.5,-863.44 4718.5,-863.44 4718.5,-869.44 4712.5,-875.44 4706.5,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="4673" y="-860.34" font-family="Helvetica Neue" font-size="8.00">Green fill</text>
<text xml:space="preserve" text-anchor="middle" x="4673" y="-849.84" font-family="Helvetica Neue" font-size="8.00">= normal/active state</text>
</g>
<!-- leg_blue -->
<g id="node50" class="node">
<title>leg_blue</title>
<path fill="#cce5ff" stroke="black" d="M4840.12,-875.44C4840.12,-875.44 4773.88,-875.44 4773.88,-875.44 4767.88,-875.44 4761.88,-869.44 4761.88,-863.44 4761.88,-863.44 4761.88,-851.44 4761.88,-851.44 4761.88,-845.44 4767.88,-839.44 4773.88,-839.44 4773.88,-839.44 4840.12,-839.44 4840.12,-839.44 4846.12,-839.44 4852.12,-845.44 4852.12,-851.44 4852.12,-851.44 4852.12,-863.44 4852.12,-863.44 4852.12,-869.44 4846.12,-875.44 4840.12,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="4807" y="-860.34" font-family="Helvetica Neue" font-size="8.00">Blue fill</text>
<text xml:space="preserve" text-anchor="middle" x="4807" y="-849.84" font-family="Helvetica Neue" font-size="8.00">= synced/cloud state</text>
</g>
<!-- leg_yellow -->
<g id="node51" class="node">
<title>leg_yellow</title>
<path fill="#fff3cd" stroke="black" d="M4962.88,-875.44C4962.88,-875.44 4907.12,-875.44 4907.12,-875.44 4901.12,-875.44 4895.12,-869.44 4895.12,-863.44 4895.12,-863.44 4895.12,-851.44 4895.12,-851.44 4895.12,-845.44 4901.12,-839.44 4907.12,-839.44 4907.12,-839.44 4962.88,-839.44 4962.88,-839.44 4968.88,-839.44 4974.88,-845.44 4974.88,-851.44 4974.88,-851.44 4974.88,-863.44 4974.88,-863.44 4974.88,-869.44 4968.88,-875.44 4962.88,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="4935" y="-860.34" font-family="Helvetica Neue" font-size="8.00">Yellow fill</text>
<text xml:space="preserve" text-anchor="middle" x="4935" y="-849.84" font-family="Helvetica Neue" font-size="8.00">= pending/loading</text>
</g>
<!-- leg_purple -->
<g id="node52" class="node">
<title>leg_purple</title>
<path fill="#e2d5f1" stroke="black" d="M5077.75,-875.44C5077.75,-875.44 5030.25,-875.44 5030.25,-875.44 5024.25,-875.44 5018.25,-869.44 5018.25,-863.44 5018.25,-863.44 5018.25,-851.44 5018.25,-851.44 5018.25,-845.44 5024.25,-839.44 5030.25,-839.44 5030.25,-839.44 5077.75,-839.44 5077.75,-839.44 5083.75,-839.44 5089.75,-845.44 5089.75,-851.44 5089.75,-851.44 5089.75,-863.44 5089.75,-863.44 5089.75,-869.44 5083.75,-875.44 5077.75,-875.44"/>
<text xml:space="preserve" text-anchor="middle" x="5054" y="-860.34" font-family="Helvetica Neue" font-size="8.00">Purple fill</text>
<text xml:space="preserve" text-anchor="middle" x="5054" y="-849.84" font-family="Helvetica Neue" font-size="8.00">= shared/modal</text>
</g>
</g>
</svg>
